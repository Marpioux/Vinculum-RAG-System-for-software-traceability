{
    "DeclareHCPAction": [
        {
            "parentClass": "DeclareHCPAction",
            "name": "DeclareHCPAction",
            "sourceCode": "public DeclareHCPAction(DAOFactory factory, long loggedInMID) {\r\n\t\tthis.loggedInMID = loggedInMID;\r\n\t\tthis.transDAO = factory.getTransactionDAO();\r\n\t\tthis.patientDAO = factory.getPatientDAO();\r\n\t\tthis.authDAO = factory.getAuthDAO();\r\n\t}"
        },
        {
            "parentClass": "DeclareHCPAction",
            "name": "getDeclaredHCPS",
            "sourceCode": "public List<PersonnelBean> getDeclaredHCPS() throws iTrustException {\r\n\t\treturn patientDAO.getDeclaredHCPs(loggedInMID);\r\n\t}"
        },
        {
            "parentClass": "DeclareHCPAction",
            "name": "declareHCP",
            "sourceCode": "public String declareHCP(String hcpStr) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong hcpID = Long.valueOf(hcpStr);\r\n\t\t\tif (authDAO.getUserRole(hcpID) != Role.HCP)\r\n\t\t\t\tthrow new iTrustException(\"This user is not a licensed healthcare professional!\");\r\n\r\n\t\t\tboolean confirm = patientDAO.declareHCP(loggedInMID, hcpID);\r\n\r\n\t\t\tif (confirm) {\r\n\t\t\t\ttransDAO.logTransaction(TransactionType.DECLARE_HCP, loggedInMID, hcpID,\r\n\t\t\t\t\t\t\"patient declared hcp\");\r\n\t\t\t\treturn \"HCP successfully declared\";\r\n\t\t\t} else\r\n\t\t\t\treturn \"HCP not declared\";\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP's MID not a number\");\r\n\t\t} \r\n\t}"
        },
        {
            "parentClass": "DeclareHCPAction",
            "name": "undeclareHCP",
            "sourceCode": "public String undeclareHCP(String input) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong hcpID = Long.valueOf(input);\r\n\t\t\tboolean confirm = patientDAO.undeclareHCP(loggedInMID, hcpID);\r\n\t\t\tif (confirm) {\r\n\t\t\t\ttransDAO.logTransaction(TransactionType.DECLARE_HCP, loggedInMID, hcpID,\r\n\t\t\t\t\t\t\"patient undeclared hcp\");\r\n\t\t\t\treturn \"HCP successfully undeclared\";\r\n\t\t\t} else\r\n\t\t\t\treturn \"HCP not undeclared\";\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP's MID not a number\");\r\n\t\t} \r\n\t}"
        }
    ]
}