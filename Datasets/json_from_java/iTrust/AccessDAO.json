{
    "AccessDAO": [
        {
            "parentClass": "AccessDAO",
            "name": "AccessDAO",
            "sourceCode": "public AccessDAO(DAOFactory factory) {\r\n\t\tthis.factory = factory;\r\n\t}"
        },
        {
            "parentClass": "AccessDAO",
            "name": "getSessionTimeoutMins",
            "sourceCode": "public int getSessionTimeoutMins() throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT Value FROM GlobalVariables WHERE Name='Timeout'\");\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\tif (rs.next())\r\n\t\t\t\treturn rs.getInt(\"Value\");\r\n\t\t\telse {\r\n\t\t\t\tinsertDefaultTimeout(conn, 20);\r\n\t\t\t\treturn 20;\r\n\t\t\t}\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "AccessDAO",
            "name": "setSessionTimeoutMins",
            "sourceCode": "public void setSessionTimeoutMins(int mins) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"UPDATE GlobalVariables SET Value=? WHERE Name='Timeout'\");\r\n\t\t\tps.setInt(1, mins);\r\n\t\t\tint numUpdated = ps.executeUpdate();\r\n\t\t\tif (numUpdated == 0) // no value in the table\r\n\t\t\t\tinsertDefaultTimeout(conn, mins);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "AccessDAO",
            "name": "insertDefaultTimeout",
            "sourceCode": "private void insertDefaultTimeout(Connection conn, int mins) throws SQLException {\r\n\t\tPreparedStatement ps = null;\r\n\t\tps = conn.prepareStatement(\"INSERT INTO GlobalVariables(Name,Value) VALUES ('Timeout', ?)\");\r\n\t\tps.setInt(1, mins);\r\n\t\tps.executeUpdate();\r\n\t}"
        }
    ]
}