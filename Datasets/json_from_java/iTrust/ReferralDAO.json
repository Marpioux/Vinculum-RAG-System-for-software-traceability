{
    "ReferralDAO": [
        {
            "parentClass": "ReferralDAO",
            "name": "ReferralDAO",
            "sourceCode": "public ReferralDAO(DAOFactory factory) {\r\n\t\tthis.factory = factory;\r\n\t\treferralLoader = new ReferralBeanLoader();\r\n\t}"
        },
        {
            "parentClass": "ReferralDAO",
            "name": "getReferralsSentFrom",
            "sourceCode": "public List<ReferralBean> getReferralsSentFrom(long mid) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT * FROM referrals WHERE SenderID = ?\");\r\n\t\t\tps.setLong(1, mid);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\treturn referralLoader.loadList(rs);\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ReferralDAO",
            "name": "getReferralsSentTo",
            "sourceCode": "public List<ReferralBean> getReferralsSentTo(long mid) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT * FROM referrals WHERE ReceiverID = ?\");\r\n\t\t\tps.setLong(1, mid);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\treturn referralLoader.loadList(rs);\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ReferralDAO",
            "name": "editReferral",
            "sourceCode": "public void editReferral(ReferralBean r) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"UPDATE referrals SET PatientID=?,SenderID=?,ReceiverID=?,\"\r\n\t\t\t\t\t+ \"ReferralDetails=?,ConsultationDetails=?,Status=?  WHERE ID=?\");\r\n\t\t\treferralLoader.loadParameters(ps, r);\r\n\t\t\tps.setLong(7, r.getId());\r\n\t\t\tps.executeUpdate();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ReferralDAO",
            "name": "addReferral",
            "sourceCode": "public void addReferral(ReferralBean r) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"INSERT INTO referrals (PatientID,SenderID,ReceiverID,\"\r\n\t\t\t\t\t+ \"ReferralDetails,ConsultationDetails,Status)  \"\r\n\t\t\t\t\t+ \"VALUES (?,?,?,?,?,?)\");\r\n\t\t\treferralLoader.loadParameters(ps, r);\r\n\t\t\tps.executeUpdate();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        }
    ]
}