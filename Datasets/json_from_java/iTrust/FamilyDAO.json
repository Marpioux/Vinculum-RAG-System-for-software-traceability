{
    "FamilyDAO": [
        {
            "parentClass": "FamilyDAO",
            "name": "FamilyDAO",
            "sourceCode": "public FamilyDAO(DAOFactory factory) {\r\n\t\tthis.factory = factory;\r\n\t}"
        },
        {
            "parentClass": "FamilyDAO",
            "name": "getParents",
            "sourceCode": "public List<FamilyMemberBean> getParents(long pid) throws DBException {\r\n\t\treturn getFamilyMembers(pid, \"Parent\",\r\n\t\t\t\t\"SELECT p2.FirstName AS FirstName, p2.LastName AS LastName, p2.MID as MID \"\r\n\t\t\t\t\t\t+ \"FROM Patients p1, Patients p2 \"\r\n\t\t\t\t\t\t+ \"WHERE p1.MID=? AND (p1.MotherMID=p2.MID OR p1.FatherMID=p2.MID)\", false);\r\n\t}"
        },
        {
            "parentClass": "FamilyDAO",
            "name": "getSiblings",
            "sourceCode": "public List<FamilyMemberBean> getSiblings(long pid) throws DBException {\r\n\t\treturn getFamilyMembers(pid, \"Sibling\",\r\n\t\t\t\t\"SELECT p2.FirstName AS FirstName, p2.LastName AS LastName, p2.MID as MID \"\r\n\t\t\t\t\t\t+ \"FROM Patients p1, Patients p2 \" + \"WHERE p1.MID=? AND p1.MID<>p2.MID \"\r\n\t\t\t\t\t\t+ \"AND( (p1.MotherMID=p2.MotherMID AND p2.MotherMID<>0)\"\r\n\t\t\t\t\t\t+ \"  OR (p1.FatherMID=p2.FatherMID AND p1.FatherMID<>0))\", false);\r\n\t}"
        },
        {
            "parentClass": "FamilyDAO",
            "name": "getChildren",
            "sourceCode": "public List<FamilyMemberBean> getChildren(long pid) throws DBException {\r\n\t\treturn getFamilyMembers(pid, \"Child\", \"SELECT FirstName, LastName, MID FROM Patients \"\r\n\t\t\t\t+ \"WHERE MotherMID=? or FatherMID=?\", true);\r\n\t}"
        },
        {
            "parentClass": "FamilyDAO",
            "name": "getFamilyMembers",
            "sourceCode": "private List<FamilyMemberBean> getFamilyMembers(long pid, String relation, String query,\r\n\t\t\tboolean secondParam) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\tfamilyBeanLoader = new FamilyBeanLoader(relation);\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(query);\r\n\t\t\tps.setLong(1, pid);\r\n\t\t\tif (secondParam)\r\n\t\t\t\tps.setLong(2, pid);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\treturn familyBeanLoader.loadList(rs);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        }
    ]
}