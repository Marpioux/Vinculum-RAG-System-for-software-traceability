{
    "UpdateNDCodeListAction": [
        {
            "parentClass": "UpdateNDCodeListAction",
            "name": "UpdateNDCodeListAction",
            "sourceCode": "public UpdateNDCodeListAction(DAOFactory factory, long performerID) {\r\n\t\tthis.performerID = performerID;\r\n\t\tndDAO = factory.getNDCodesDAO();\r\n\t\ttransDAO = factory.getTransactionDAO();\r\n\t}"
        },
        {
            "parentClass": "UpdateNDCodeListAction",
            "name": "addNDCode",
            "sourceCode": "public String addNDCode(MedicationBean med) throws FormValidationException {\r\n\t\tvalidator.validate(med);\r\n\t\ttry {\r\n\t\t\tif (ndDAO.addNDCode(med)) {\r\n\t\t\t\ttransDAO.logTransaction(TransactionType.MANAGE_DRUG_CODE, performerID, 0L, \"added ND code \"\r\n\t\t\t\t\t\t+ med.getNDCode());\r\n\t\t\t\treturn \"Success: \" + med.getNDCode() + \" - \" + med.getDescription() + \" added\";\r\n\t\t\t} else\r\n\t\t\t\treturn \"The database has become corrupt. Please contact the system administrator for assistance.\";\r\n\t\t} catch (DBException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn e.getMessage();\r\n\t\t} catch (iTrustException e) {\r\n\t\t\treturn e.getMessage();\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "UpdateNDCodeListAction",
            "name": "updateInformation",
            "sourceCode": "public String updateInformation(MedicationBean med) throws FormValidationException {\r\n\t\tvalidator.validate(med);\r\n\t\ttry {\r\n\t\t\tint rows = updateCode(med);\r\n\t\t\tif (0 == rows) {\r\n\t\t\t\treturn \"Error: Code not found.\";\r\n\t\t\t} else {\r\n\t\t\t\ttransDAO.logTransaction(TransactionType.MANAGE_DRUG_CODE, performerID, 0L, \"updated ND code \"\r\n\t\t\t\t\t\t+ med.getNDCode());\r\n\t\t\t\treturn \"Success: \" + rows + \" row(s) updated\";\r\n\t\t\t}\r\n\t\t} catch (DBException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn e.getMessage();\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "UpdateNDCodeListAction",
            "name": "updateCode",
            "sourceCode": "private int updateCode(MedicationBean med) throws DBException {\r\n\t\treturn ndDAO.updateCode(med);\r\n\t}"
        }
    ]
}