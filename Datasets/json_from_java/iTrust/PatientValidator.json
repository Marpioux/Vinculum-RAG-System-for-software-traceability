{
    "PatientValidator": [
        {
            "parentClass": "PatientValidator",
            "name": "PatientValidator",
            "sourceCode": "public PatientValidator() {\r\n\t}"
        },
        {
            "parentClass": "PatientValidator",
            "name": "validate",
            "sourceCode": "@Override\r\n\tpublic void validate(PatientBean p) throws FormValidationException {\r\n\t\tErrorList errorList = new ErrorList();\r\n\t\terrorList.addIfNotNull(checkFormat(\"First name\", p.getFirstName(), ValidationFormat.NAME, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Last name\", p.getLastName(), ValidationFormat.NAME, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Date of Birth\", p.getDateOfBirthStr(), ValidationFormat.DATE,\r\n\t\t\t\tfalse));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Date of Death\", p.getDateOfDeathStr(), ValidationFormat.DATE,\r\n\t\t\t\ttrue));\r\n\t\ttry {\r\n\t\t\tif (p.getDateOfDeath() == null && \"\".equals(p.getDateOfDeathStr())){\r\n\t\t\t\tif( p.getDateOfBirth().after(new Date())){\r\n\t\t\t\t\terrorList.addIfNotNull(\"Birth date cannot be in the future!\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (p.getDateOfDeath().before(p.getDateOfBirth()))\r\n\t\t\t\terrorList.addIfNotNull(\"Death date cannot be before birth date!\");\r\n\t\t\tif( p.getDateOfDeath().after(new Date())){\r\n\t\t\t\terrorList.addIfNotNull(\"Death date cannot be in the future!\");\r\n\t\t\t}\r\n\t\t\tif( p.getDateOfBirth().after(new Date())){\r\n\t\t\t\terrorList.addIfNotNull(\"Birth date cannot be in the future!\");\r\n\t\t\t}\r\n\t\t} catch (NullPointerException e) {\r\n\t\t\t// ignore this\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t\tboolean deathCauseNull = (null == p.getDateOfDeathStr() || p.getDateOfDeathStr().equals(\"\"));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Cause of Death\", p.getCauseOfDeath(), ValidationFormat.ICD9CM,\r\n\t\t\t\tdeathCauseNull));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Email\", p.getEmail(), ValidationFormat.EMAIL, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Street Address 1\", p.getStreetAddress1(),\r\n\t\t\t\tValidationFormat.ADDRESS, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Street Address 2\", p.getStreetAddress2(),\r\n\t\t\t\tValidationFormat.ADDRESS, true));\r\n\t\terrorList.addIfNotNull(checkFormat(\"City\", p.getCity(), ValidationFormat.CITY, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"State\", p.getState(), ValidationFormat.STATE, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Zip Code\", p.getZip(), ValidationFormat.ZIPCODE, false));\r\n\t\terrorList\r\n\t\t\t\t.addIfNotNull(checkFormat(\"Phone Number\", p.getPhone(), ValidationFormat.PHONE_NUMBER, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Emergency Contact Name\", p.getEmergencyName(),\r\n\t\t\t\tValidationFormat.NAME, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Emergency Contact Phone\", p.getEmergencyPhone(),\r\n\t\t\t\tValidationFormat.PHONE_NUMBER, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company Name\", p.getIcName(), ValidationFormat.NAME,\r\n\t\t\t\tfalse));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company Address 1\", p.getIcAddress1(),\r\n\t\t\t\tValidationFormat.ADDRESS, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company Address 2\", p.getIcAddress2(),\r\n\t\t\t\tValidationFormat.ADDRESS, true));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company City\", p.getIcCity(), ValidationFormat.CITY,\r\n\t\t\t\tfalse));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company State\", p.getIcState(), ValidationFormat.STATE,\r\n\t\t\t\tfalse));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company Zip\", p.getIcZip(), ValidationFormat.ZIPCODE,\r\n\t\t\t\tfalse));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company Phone\", p.getIcPhone(),\r\n\t\t\t\tValidationFormat.PHONE_NUMBER, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Insurance Company ID\", p.getIcID(),\r\n\t\t\t\tValidationFormat.INSURANCE_ID, false));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Mother MID\", p.getMotherMID(), ValidationFormat.MID, true));\r\n\t\terrorList.addIfNotNull(checkFormat(\"Father MID\", p.getFatherMID(), ValidationFormat.MID, true));\r\n\t\terrorList\r\n\t\t\t\t.addIfNotNull(checkFormat(\"Topical Notes\", p.getTopicalNotes(), ValidationFormat.NOTES, true));\r\n\t\t\r\n\t\t/* This block was added for Theme 5 by Tyler Arehart */\r\n\t\t\r\n\t\tif (!(p.getCreditCardNumber().equals(\"\") && p.getCreditCardType().equals(\"\"))) {\r\n\t\t\r\n\t\t\tString s = null;\r\n\t\t\tCreditCardValidator c;\r\n\t\t\tint type = -1;\r\n\t\t\tif (p.getCreditCardType().equals(\"VISA\")) type = CreditCardValidator.VISA;\r\n\t\t\tif (p.getCreditCardType().equals(\"MASTERCARD\")) type = CreditCardValidator.MASTERCARD;\r\n\t\t\tif (p.getCreditCardType().equals(\"DISCOVER\")) type = CreditCardValidator.DISCOVER;\r\n\t\t\tif (p.getCreditCardType().equals(\"AMEX\")) type = CreditCardValidator.AMEX;\r\n\t\t\t\r\n\t\t\tif (type != -1) {\t\r\n\t\t\t\tc = new CreditCardValidator(type);\r\n\t\t\t\tif (!c.isValid(p.getCreditCardNumber())) {\r\n\t\t\t\t\ts = \"Credit Card Number\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ts = \"Credit Card Type\";\r\n\t\t\t}\r\n\t\t\terrorList.addIfNotNull(s);\r\n\t\t}\r\n\t\t\r\n\t\tif (errorList.hasErrors())\r\n\t\t\tthrow new FormValidationException(errorList);\r\n\t}"
        }
    ]
}