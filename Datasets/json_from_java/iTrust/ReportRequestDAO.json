{
    "ReportRequestDAO": [
        {
            "parentClass": "ReportRequestDAO",
            "name": "ReportRequestDAO",
            "sourceCode": "public ReportRequestDAO(DAOFactory factory) {\r\n\t\tthis.factory = factory;\r\n\t\tloader = new ReportRequestBeanLoader();\r\n\t}"
        },
        {
            "parentClass": "ReportRequestDAO",
            "name": "getReportRequest",
            "sourceCode": "public ReportRequestBean getReportRequest(long id) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tif (id == 0L) throw new SQLException(\"ID cannot be null\");\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT * FROM ReportRequests WHERE ID = ?\");\r\n\t\t\tps.setLong(1, id);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\trs.next();\r\n\t\t\treturn loader.loadSingle(rs);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ReportRequestDAO",
            "name": "getAllReportRequestsForRequester",
            "sourceCode": "public List<ReportRequestBean> getAllReportRequestsForRequester(long mid) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\r\n\t\ttry {\r\n\t\t\tif (mid == 0L) throw new SQLException(\"RequesterMID cannot be null\");\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT * FROM ReportRequests WHERE RequesterMID = ?\");\r\n\t\t\tps.setLong(1, mid);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\treturn loader.loadList(rs);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ReportRequestDAO",
            "name": "getAllReportRequestsForPatient",
            "sourceCode": "public List<ReportRequestBean> getAllReportRequestsForPatient(long pid) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\r\n\t\ttry {\r\n\t\t\tif (pid == 0L) throw new SQLException(\"PatientMID cannot be null\");\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT * FROM ReportRequests WHERE PatientMID = ?\");\r\n\t\t\tps.setLong(1, pid);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\treturn loader.loadList(rs);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ReportRequestDAO",
            "name": "addReportRequest",
            "sourceCode": "public long addReportRequest(long requesterMID, long patientMID, Date date) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tif (requesterMID == 0L) throw new SQLException(\"RequesterMID cannot be null\");\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"INSERT INTO ReportRequests (ID, RequesterMID, PatientMID, RequestedDate, Status) VALUES (null,?,?,?,'Requested')\");\r\n\t\t\tps.setLong(1, requesterMID);\r\n\t\t\tps.setLong(2, patientMID);\r\n\t\t\tps.setTimestamp(3, new java.sql.Timestamp(date.getTime()));\r\n\t\t\tps.executeUpdate();\r\n\t\t\treturn DBUtil.getLastInsert(conn);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ReportRequestDAO",
            "name": "setViewed",
            "sourceCode": "public void setViewed(long ID, Date date) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tif (ID == 0L) throw new SQLException(\"ID cannot be null\");\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"UPDATE ReportRequests set ViewedDate = ?, Status = 'Viewed' where ID = ?\");\r\n\t\t\tps.setTimestamp(1, new java.sql.Timestamp(date.getTime()));\r\n\t\t\tps.setLong(2, ID);\r\n\t\t\tps.executeUpdate();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t\t\r\n\t}"
        }
    ]
}