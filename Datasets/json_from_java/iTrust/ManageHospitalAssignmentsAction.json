{
    "ManageHospitalAssignmentsAction": [
        {
            "parentClass": "ManageHospitalAssignmentsAction",
            "name": "ManageHospitalAssignmentsAction",
            "sourceCode": "public ManageHospitalAssignmentsAction(DAOFactory factory, long loggedInMID) {\r\n\t\tthis.loggedInMID = loggedInMID;\r\n\t\tthis.transDAO = factory.getTransactionDAO();\r\n\t\tthis.personnelDAO = factory.getPersonnelDAO();\r\n\t\tthis.hospitalsDAO = factory.getHospitalsDAO();\r\n\t}"
        },
        {
            "parentClass": "ManageHospitalAssignmentsAction",
            "name": "getAvailableHospitals",
            "sourceCode": "public List<HospitalBean> getAvailableHospitals(String midString) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong mid = Long.valueOf(midString);\r\n\t\t\tList<HospitalBean> allHospitals = hospitalsDAO.getAllHospitals();\r\n\t\t\tList<HospitalBean> ourHospitals = personnelDAO.getHospitals(mid);\r\n\t\t\twhile (!ourHospitals.isEmpty()) {\r\n\t\t\t\tallHospitals.remove(ourHospitals.remove(0));\r\n\t\t\t}\r\n\r\n\t\t\treturn allHospitals;\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP's MID not a number\");\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ManageHospitalAssignmentsAction",
            "name": "getAssignedHospitals",
            "sourceCode": "public List<HospitalBean> getAssignedHospitals(String midString) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong mid = Long.valueOf(midString);\r\n\t\t\treturn personnelDAO.getHospitals(mid);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP's MID not a number\");\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ManageHospitalAssignmentsAction",
            "name": "assignHCPToHospital",
            "sourceCode": "public String assignHCPToHospital(String midString, String hospitalID) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong hcpID = Long.valueOf(midString);\r\n\t\t\tboolean confirm = hospitalsDAO.assignHospital(hcpID, hospitalID);\r\n\t\t\tif (confirm) {/*\r\n\t\t\t\t\t\t\t * only patient is mentioned for transaction type 0, but spec looks like personnel\r\n\t\t\t\t\t\t\t * should be included too...\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\ttransDAO.logTransaction(TransactionType.ENTER_EDIT_DEMOGRAPHICS, loggedInMID, hcpID,\r\n\t\t\t\t\t\t\"HCP Assigned to Hospital\");\r\n\t\t\t\treturn \"HCP successfully assigned.\";\r\n\t\t\t} else\r\n\t\t\t\treturn \"Assignment did not occur\";\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP's MID not a number\");\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ManageHospitalAssignmentsAction",
            "name": "removeHCPAssignmentToHospital",
            "sourceCode": "public String removeHCPAssignmentToHospital(String midString, String hospitalID) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong hcpID = Long.valueOf(midString);\r\n\t\t\tboolean confirm = hospitalsDAO.removeHospitalAssignment(hcpID, hospitalID);\r\n\t\t\tif (confirm) {\r\n\t\t\t\ttransDAO.logTransaction(TransactionType.ENTER_EDIT_DEMOGRAPHICS, loggedInMID, hcpID,\r\n\t\t\t\t\t\t\"HCP unassigned from hospital\");\r\n\t\t\t\treturn \"HCP successfully unassigned\";\r\n\t\t\t} else\r\n\t\t\t\treturn \"HCP not unassigned\";\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP's MID not a number\");\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ManageHospitalAssignmentsAction",
            "name": "removeAllAssignmentsFromHCP",
            "sourceCode": "public int removeAllAssignmentsFromHCP(String midString) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong hcpID = Long.valueOf(midString);\r\n\t\t\tint numAssignments = hospitalsDAO.removeAllHospitalAssignmentsFrom(hcpID);\r\n\t\t\tif (0 < numAssignments) {\r\n\t\t\t\ttransDAO.logTransaction(TransactionType.ENTER_EDIT_DEMOGRAPHICS, loggedInMID, hcpID,\r\n\t\t\t\t\t\t\"HCP unassigned from all hospital\");\r\n\t\t\t}\r\n\t\t\treturn numAssignments;\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP's MID not a number\");\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "ManageHospitalAssignmentsAction",
            "name": "checkHCPID",
            "sourceCode": "public long checkHCPID(String hcpID) throws iTrustException {\r\n\t\ttry {\r\n\t\t\tlong pid = Long.valueOf(hcpID);\r\n\t\t\tif (personnelDAO.checkPersonnelExists(pid))\r\n\t\t\t\treturn pid;\r\n\t\t\telse\r\n\t\t\t\tthrow new iTrustException(\"HCP does not exist\");\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\tthrow new iTrustException(\"HCP ID is not a number: \" + e.getMessage());\r\n\t\t}\r\n\t}"
        }
    ]
}