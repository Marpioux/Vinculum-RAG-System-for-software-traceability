{
    "CPTCodesDAO": [
        {
            "parentClass": "CPTCodesDAO",
            "name": "CPTCodesDAO",
            "sourceCode": "public CPTCodesDAO(DAOFactory factory) {\r\n\t\tthis.factory = factory;\r\n\t}"
        },
        {
            "parentClass": "CPTCodesDAO",
            "name": "getAllCPTCodes",
            "sourceCode": "public List<ProcedureBean> getAllCPTCodes() throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT * FROM CPTCodes ORDER BY CODE\");\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\treturn procedureBeanLoader.loadList(rs);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "CPTCodesDAO",
            "name": "getImmunizationCPTCodes",
            "sourceCode": "public List<ProcedureBean> getImmunizationCPTCodes() throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"select * from cptcodes where attribute='immunization' order by code\");\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\treturn procedureBeanLoader.loadList(rs);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "CPTCodesDAO",
            "name": "getCPTCode",
            "sourceCode": "public ProcedureBean getCPTCode(String code) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"SELECT * FROM CPTCodes WHERE Code = ?\");\r\n\t\t\tps.setString(1, code);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\tif (rs.next())\r\n\t\t\t\treturn procedureBeanLoader.loadSingle(rs);\r\n\t\t\treturn null;\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "CPTCodesDAO",
            "name": "addCPTCode",
            "sourceCode": "public boolean addCPTCode(ProcedureBean proc) throws DBException, iTrustException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"INSERT INTO CPTCodes (Code, Description, Attribute) \" + \"VALUES (?,?,?)\");\r\n\t\t\tps.setString(1, proc.getCPTCode());\r\n\t\t\tps.setString(2, proc.getDescription());\r\n\t\t\tps.setString(3, proc.getAttribute());\r\n\t\t\treturn (1 == ps.executeUpdate());\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tif (1062 == e.getErrorCode())\r\n\t\t\t\tthrow new iTrustException(\"Error: Code already exists.\");\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        },
        {
            "parentClass": "CPTCodesDAO",
            "name": "updateCode",
            "sourceCode": "public int updateCode(ProcedureBean proc) throws DBException {\r\n\t\tConnection conn = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\ttry {\r\n\t\t\tconn = factory.getConnection();\r\n\t\t\tps = conn.prepareStatement(\"UPDATE CPTCodes SET Description = ?, Attribute = ? WHERE Code = ?\");\r\n\t\t\tps.setString(1, proc.getDescription());\r\n\t\t\tps.setString(2, proc.getAttribute());\r\n\t\t\tps.setString(3, proc.getCPTCode());\r\n\t\t\treturn ps.executeUpdate();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new DBException(e);\r\n\t\t} finally {\r\n\t\t\tDBUtil.closeConnection(conn, ps);\r\n\t\t}\r\n\t}"
        }
    ]
}