{
    "MascheraCommissioni": [
        {
            "parentClass": "MascheraCommissioni",
            "name": "MascheraCommissioni",
            "sourceCode": "public MascheraCommissioni(String data1, String data2, String title, String caption, int c)\n   {\n      super(title);\n      caller = c;\n      setupPanels(data1, data2, caption);\n      inizializza();\n      pack();\n   }"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "setupPanels",
            "sourceCode": "void setupPanels(String data1, String data2, String caption)\n   \t{\n\t    this.setFont(ConfigurazioneSistema.font_base);\n      \t//Creo le etichette\n      \tetichetta3 = new Label(\"Inserimento dati della commissione\");\n      \tetichetta3.setFont(ConfigurazioneSistema.font_titolo);\n      \tetich1 = new Label(\"Nome Agenzia\");\n      \tetich2 = new Label(\"Numero Stanza\");\n      \tetich3 = new Label(\"Data inizio Commissione\");\n      \tetich4 = new Label(\"Data fine Commissione\");\n      \tetich5 = new Label(\"Data scadenza Commissione\");\n      \tetich6 = new Label(\"Numero telefonico Agenzia\");\n      \tetich7 = new Label(\"Risultato della ricerca\");\n\t\tetich7.setFont(ConfigurazioneSistema.font_titolo);\n\t\t\n      \n      //Creo i TextField e ne rendo  alcuni non editabili\n      nome_agenzia = new TextField(\"\",20);\n      num_stanza = new TextField(\"\",4);\n      inizio_comm = new TextField(\"\",12);\n      fine_comm = new TextField(\"\",12);\n      scadenza_comm = new TextField(\"\",12);\n      num_tel_agenzia = new TextField(\"\",16);\n\n      //Creo i pulsanti\n      Annulla = new Button(\" Fine \");\n      Azione = new Button(caption);\n      Cerca = new Button(\" Cerca \");\n\n      //Creo il pannello\n      panel3 = new Panel();\n      panel3.setLayout(gridbag);\n      Utils.constrain(panel3, etichetta3, 0, 0, 3, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 0, 0); \n      Utils.constrain(panel3, etich1, 0, 1, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3,nome_agenzia , 1, 1, 1, 1, GridBagConstraints.NONE,\n                    GridBagConstraints.NORTHWEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3, etich2, 2, 1, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3,num_stanza, 3, 1, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.NORTHWEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3, etich3, 0, 2, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3,inizio_comm , 1, 2, 1, 1, GridBagConstraints.NONE,\n                    GridBagConstraints.NORTHWEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3, etich4, 2, 2, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3,fine_comm , 3, 2, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.NORTHWEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3, etich5, 0, 3, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3,scadenza_comm , 1, 3, 1, 1, GridBagConstraints.NONE,\n                    GridBagConstraints.NORTHWEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3, etich6, 0, 4, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(panel3,num_tel_agenzia , 1, 4, 4, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.NORTHWEST, 1.0, 0.0, 5, 5, 5, 5);\n\n      panel4 = new Panel();\n      panel4.setLayout(gridbag);\n      Utils.constrain(panel4, Annulla, 0, 0, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.CENTER, 0.0, 0.0, 5, 5, 5, 15);\n      Utils.constrain(panel4, Azione, 1, 0, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.CENTER, 0.0, 0.0, 5, 5, 5, 5);      \n      if ((caller == 2) || (caller == 3) )\n      Utils.constrain(panel4,Cerca, 2, 0, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.CENTER, 0.0, 0.0, 5, 5, 5, 5);                               \n\t\t\n\t\t\n\t\tlista = new List(10, false);\n\t\tlista.setFont(ConfigurazioneSistema.font_allineato);\n\t\t\n\t\tpanel5 = new Panel();\n\t\tpanel5.setLayout(gridbag);\n        Utils.constrain(panel5, etich7, 0, 0, 2, 1, GridBagConstraints.NONE,\n                       GridBagConstraints.WEST, 1.0, 0.0, 0, 0, 0, 0);\n        Utils.constrain(panel5,lista, 0, 1, 4, 3, GridBagConstraints.BOTH,\n                        GridBagConstraints.CENTER, 3.0, 3.0, 0, 0, 0, 0);\n\t\t      \n      \n      //Attacco i pannelli al frame\n      this.setLayout(gridbag);\n      Utils.constrain(this, panel3, 0, 0, 6, 5, GridBagConstraints.NONE,\n                        GridBagConstraints.WEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(this, panel4, 0, 5, 6, 1, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(this, panel5, 0, 6, 6, 1, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 0.0, 5, 5, 5, 5);                  \n\tpanel5.setVisible(false);\n\tpack();\t   \t\t\n   \n   }"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "inizializza",
            "sourceCode": "public void inizializza()\n   {\n      Annulla.addActionListener(new ActionListener()\n      {\n         public void actionPerformed(ActionEvent e)\n         {\n\t\t\tdispose();\n\t\t\tpadre.setEnabled(true);\n         }\n      });\n   }"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "readDatiComm",
            "sourceCode": "Commissionamento readDatiComm()\n\t{\n\t\tCommissionamento comm = new Commissionamento();\n\t\tcomm.setIdCommissionamento((Principale.config).getIdCommissionamento());\n\t\tcomm.setNomeAgenzia(nome_agenzia.getText());\n\t\tcomm.setNumStanza(num_stanza.getText());\n\t\tcomm.setInizioComm(DateUtils.convertDate(inizio_comm.getText()));\n\t\tcomm.setFineComm(DateUtils.convertDate(fine_comm.getText()));\n\t\tcomm.setScadenzaComm(DateUtils.convertDate(scadenza_comm.getText()));\n\t\tcomm.setNumTel(num_tel_agenzia.getText());\n\t\treturn comm;\n\t}"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "writeDatiComm",
            "sourceCode": "void writeDatiComm(Commissionamento comm)\n\t{\n\t\tnome_agenzia.setText(comm.getNomeAgenzia());\n\t\tnum_stanza.setText(comm.getNumStanza());\n\t\tinizio_comm.setText(DateUtils.giveStringOfDate(comm.getInizioComm()));\t\t\t\t\t\t\t\n\t\tfine_comm.setText(DateUtils.giveStringOfDate(comm.getFineComm()));\n\t\tscadenza_comm.setText(DateUtils.giveStringOfDate(comm.getScadenzaComm()));\n\t\tnum_tel_agenzia.setText(comm.getNumTel());\n\t}"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "errori",
            "sourceCode": "protected boolean errori()\n\t{\n\t\tFrame msg;\n\t\t\n\t\tif (!((num_stanza.getText()).length() <= 4))\n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" Il numero della stanza deve avere al piu' 4 caratteri! \");\n\t\t\treturn true;\n\t\t}\n\t\tif ((num_stanza.getText()).equals(\"\"))\n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" Manca il numero di stanza! \");\n\t\t\treturn true;\n\t\t}\n\t\tif ((nome_agenzia.getText()).equals(\"\")) \n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" Manca il nome dell'agenzia! \");\n\t\t\treturn true;\n\t\t}\n\t\tif (!((nome_agenzia.getText()).length() <= 20))\n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" Il nome dell'agenzia deve avere al piu' 20 caratteri! \");\n\t\t\treturn true;\n\t\t}\n\t\tif ((scadenza_comm.getText()).equals(\"\"))\n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" Manca la data di scadenza! \");\n\t\t\treturn true;\n\t\t}\n\t\tif (!(DateUtils.dataCorretta(scadenza_comm.getText()) ))\n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" La data di scadenza e' non corretta! \");\n\t\t\treturn true;\n\t\t}\n\t\tif ((num_tel_agenzia.getText()).equals(\"\"))\n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" Manca il numero di telefono! \");\n\t\t\treturn true;\n\t\t}\n\t\tif (!((num_tel_agenzia.getText()).length() <= 16))\n\t\t{\n\t\t\tmsg = new MessageDialog(this, \" Il numero di telefono deve avere al piu' 16 caratteri! \");\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "cleanFields",
            "sourceCode": "void cleanFields()\n\t{\n\t  nome_agenzia.setText(\"\");\n      num_stanza.setText(\"\");\n      inizio_comm.setText(\"\");\n      fine_comm.setText(\"\");\n      scadenza_comm.setText(\"\");\n      num_tel_agenzia.setText(\"\");\n\t}"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "creaLista",
            "sourceCode": "void creaLista()\n\t{\n\t\tFrame msg;\n\t\t\n\t\tCommissionamento c;\n\t\tL = (Principale.db).foundCommissionamenti(new String(nome_agenzia.getText()));\n\t\tif (L != null)\n\t\t{\n\t\t\tif (lista.getItemCount() > 0)\n\t\t\t\tlista.removeAll();\n\t\t\tif (!L.isEmpty())\n\t\t\t{\n\t\t\t\tpanel5.setVisible(true);\n\t\t\t\tpack();\n\t\t\t\tfor (int i = 1; i<=L.length(); i++)\n\t\t\t\t\tlista.addItem((L.getCommissionamento(i)).toString());\n\t\t\t}\n\t\t\telse\n\t\t\t\tmsg = new AvvisoDialog(this, \"Agenzia \"+nome_agenzia.getText()+\" non trovata!\");\n\t\t}\n\t\telse\n\t\t\tmsg = new MessageDialog(this, \"Problemi con il database!\");\n\t}"
        },
        {
            "parentClass": "MascheraCommissioni",
            "name": "aggiornaDisp",
            "sourceCode": "void aggiornaDisp(Commissionamento comm, char tipo)\n\t{\n\t\tDisponibilita disp_da_cambiare = new Disponibilita();\n\t\tListaDisponibilita elenco_disp = (Principale.db).elencoDisponibilita();\n\t\tif (elenco_disp == null)\n\t\t{\n\t\t\tFrame msg = new MessageDialog(this, \" Problemi con il database nella lettura delle disponibilita'! \");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tdisp_da_cambiare = Utils.getDispOfRoom(elenco_disp,comm.getNumStanza(),true);\n\t\tif (tipo == Flag.COMMISSIONATA)\n\t\t\tdisp_da_cambiare.setDisponibilita(comm.getInizioComm(), comm.getFineComm(), tipo, Flag.DISPONIBILE);\n\t\telse\n\t\t\tdisp_da_cambiare.setDisponibilita(comm.getInizioComm(), comm.getFineComm(), tipo, Flag.COMMISSIONATA);\t\t\t\n\t\t(Principale.db).changeDisponibilita( disp_da_cambiare.getNumStanza(), \n\t\t\t\t\t\t\t\t\t\t\tdisp_da_cambiare.getDispAnnoCorr(),\n\t\t\t\t\t\t\t\t\t\t\tdisp_da_cambiare.getDispAnnoProx() );\n\t}"
        }
    ]
}