{
    "RicercaTelefonate": [
        {
            "parentClass": "RicercaTelefonate",
            "name": "RicercaTelefonate",
            "sourceCode": "public RicercaTelefonate(Frame p)\n    {\n        super(\"Ricerca delle telefonate\");\n        padre = p;\n        padre.setEnabled(false);\n        setupPanels();\n        init();\n        pack();\n        setVisible(true); \n    }"
        },
        {
            "parentClass": "RicercaTelefonate",
            "name": "setupPanels",
            "sourceCode": "void setupPanels()\n        {  \n\t\t\tthis.setFont(ConfigurazioneSistema.font_base);\n            //Creo due pulsanti  \n            Annulla = new Button(\" Fine  \");\n            Cerca = new Button(\" Cerca \");\n\n            //Creo le etichette\n            etichetta1 = new Label (\"Inserire la stanza addebitata                         \");\n            etichetta1.setFont(ConfigurazioneSistema.font_titolo);\n            label1 = new Label(\"Numero Stanza\");\n\t\t\tlabel3 = new Label(\"Risultato della ricerca\");\n\t\t\tlabel3.setFont(ConfigurazioneSistema.font_titolo);\n            \n            //Creo i TextField e ne rendo  alcuni non editabili\n            stanza = new TextField(\"\", 4);\n\t\t\t\n            //Creo il pannello in alto per inserimento dei dati del cliente\n            panel1 = new Panel();\n            panel1.setLayout(gridbag);\n            Utils.constrain(panel1, etichetta1, 0, 0, 2, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 0, 0, 0, 0);\n            Utils.constrain(panel1, label1, 0, 1, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 0, 0, 0, 0);\n            Utils.constrain(panel1, stanza, 1, 1, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 0, 0, 0, 0);\n           \n            //Creo il pannello in basso con due pulsanti                  \n            panel2 = new Panel();\n            panel2.setLayout(gridbag);\n            Utils.constrain(panel2, Annulla, 0, 0, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.CENTER, 0.0, 0.0, 5, 5, 5, 5);\n            Utils.constrain(panel2, Cerca, 1, 0, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.CENTER, 0.0, 0.0, 5, 5, 5, 5);             \n            \n            //Creo il pannello con la lista dei risultati della ricerca\n            lista = new List(10,false);\n            lista.setFont(ConfigurazioneSistema.font_allineato);\n            \n            panel3 = new Panel();\n            panel3.setLayout(gridbag);\n            Utils.constrain(panel3, label3, 0, 0, 2, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.WEST, 1.0, 0.0, 0, 0, 0, 0);\n            Utils.constrain(panel3, lista, 0, 1, 4, 3, GridBagConstraints.BOTH,\n                        GridBagConstraints.CENTER, 3.0, 3.0, 0, 0, 0, 0);             \n            \n            \n            //Attacco i pannelli al frame\n            this.setLayout(gridbag);\n            Utils.constrain(this, panel1, 0, 1, 4, 2, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 0.0, 5, 5, 5, 5);\n            Utils.constrain(this, panel2, 0, 14, 4, 1, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 0.0, 5, 5, 5, 5); \n        \tUtils.constrain(this, panel3, 0, 15, 4, 1, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 0.0, 5, 5, 5, 5); \n        \tpanel3.setVisible(false);\n        \tpack();\n        \n        }"
        },
        {
            "parentClass": "RicercaTelefonate",
            "name": "init",
            "sourceCode": "public void init()\n    {\n\t\tlista.addActionListener(new ActionListener()\n      \t{\n         \tpublic void actionPerformed(ActionEvent e)\n         \t{\n\t\t\t\ttel = L.getTelefonata((lista.getSelectedIndexes())[0]+1);\n\t\t\t\tstartVediTelefonata(tel);\n\t\t\t}\n      \t});\n \n\n\t\t\n\tstanza.addActionListener(new ActionListener()\n\t{\n\t\tpublic void actionPerformed(ActionEvent e)\n\t\t{\n\t\t\tif (noErrors())\n\t\t\t\tcreaLista();\n\t\t}\t\t\t      \t\n\t});\n\t\n    Cerca.addActionListener(new ActionListener()\n      \t{\n         \tpublic void actionPerformed(ActionEvent e)\n         \t{\n\t\t\t\tif (noErrors())\n\t\t\t\t\tcreaLista();\n\t\t\t}\t\n      \t});\n      \n  \tAnnulla.addActionListener(new ActionListener()\n      \t{\n         \tpublic void actionPerformed(ActionEvent e)\n         \t{\n\t\t\t\tdispose();\n\t\t\t\tpadre.setEnabled(true);\n\t\t\t}\n      \t});    \t\n    }"
        },
        {
            "parentClass": "RicercaTelefonate",
            "name": "startVediTelefonata",
            "sourceCode": "void startVediTelefonata(Telefonata tel)\n\t{\n\t\tfiglio = new MascheraTelefonate(this, tel, tot_scatti); \n\t}"
        },
        {
            "parentClass": "RicercaTelefonate",
            "name": "creaLista",
            "sourceCode": "public void creaLista()\n\t{\n\t\tFrame msg;\n\t\ttot_scatti = 0;\n\t\tL = (Principale.db).foundTelefonate(stanza.getText());\n\t\tif (L != null)\n\t\t{\n\t\t\tif (!L.isEmpty())\n\t\t\t{\n\t\t\t\tif (lista.getItemCount() > 0)\n\t\t\t\t\tlista.removeAll();\n\t\t\t\tpanel3.setVisible(true);\n\t\t\t\tpack();\n\t\t\t\tfor(int i = 1; i<=L.length(); i++)\n\t\t\t\t{\t\n\t\t\t\t\tlista.addItem(L.getTelefonata(i).toString());\t\t\t\n\t\t\t\t\ttot_scatti += L.getTelefonata(i).getNumScatti();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tmsg = new AvvisoDialog(this, \" Nessuna telefonata addebitata \");\n\t\t}\n\t\telse\n\t\t\tmsg = new MessageDialog(this, \"Problemi con il DataBase!\");\n\t}"
        },
        {
            "parentClass": "RicercaTelefonate",
            "name": "noErrors",
            "sourceCode": "boolean noErrors()\n\t{\n\t\tFrame msg;\n\t\t//Disponibilita disp = new Disponibilita();\n\t\tif ((stanza.getText().equals(\"\")) ) \n\t\t{\n\t\t\tmsg = new AvvisoDialog(this,\"Inserire il numero della stanza\");\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\tif( (Principale.db).readStanza(stanza.getText()) == null )\n\t\t\t{\n\t\t\t\tmsg = new MessageDialog(this,\"La stanza inserita e' inesistente!\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\treturn true;\t\n\t}"
        }
    ]
}