{
    "MascheraRicercaStorico": [
        {
            "parentClass": "MascheraRicercaStorico",
            "name": "MascheraRicercaStorico",
            "sourceCode": "public MascheraRicercaStorico(Frame parent)\n   {\n      super(\"Ricerca nello storico\");\n      padre = parent;\n      padre.setEnabled(false);\n      setupPanels();\n      pack();\n      init();\n      this.setVisible(true);\n   }"
        },
        {
            "parentClass": "MascheraRicercaStorico",
            "name": "setupPanels",
            "sourceCode": "void setupPanels()\n   {\n\t  this.setFont(ConfigurazioneSistema.font_base);\n      //Creo i pulsanti\n      Annulla = new Button(\"Annulla \");\n      //Annulla.setFont(new Font(\"Courier\", Font.PLAIN, 12));\n      Conferma = new Button(\"Conferma\");\n      Conferma.setEnabled(false);\n      //Conferma.setFont(new Font(\"Courier\", Font.PLAIN, 12));\n\n      //Creo le etichette\n      etichetta1 = new Label(\"Selezionare il tipo di ricerca che si desidera effettuare:\");\n      etichetta1.setFont(ConfigurazioneSistema.font_titolo);\n      etichetta2 = new Label(\"Risultato della ricerca:\");\n      etichetta2.setFont(ConfigurazioneSistema.font_titolo);\n      etichetta3 = new Label(\"Ricerca per stanza:\");\n      etichetta3.setFont(ConfigurazioneSistema.font_titolo);\n      etichetta4 = new Label(\"Ricerca per nome:\");\n      etichetta4.setFont(ConfigurazioneSistema.font_titolo);\n      etichetta5 = new Label(\"Ricerca per data:\");\n      etichetta5.setFont(ConfigurazioneSistema.font_titolo);\n      label1 = new Label(\"Stanza numero\");\n      label2 = new Label(\"Cognome\");\n      label3 = new Label(\"Nome\");\n      label5 = new Label(\"Data di soggiorno desiderata\");\n\n      //Creo un Checkbox ad esclusione\n      checkbox_group = new CheckboxGroup();\n      checkboxes = new Checkbox[3];\n      checkboxes[0] = new Checkbox(\"Ricerca per stanza\",checkbox_group,false);\n      checkboxes[1] = new Checkbox(\"Ricerca per nome\",checkbox_group,false);\n      checkboxes[2] = new Checkbox(\"Ricerca per data\",checkbox_group,false);\n\n\n      //Creo i TextField e li rendo non editabili\n      testo = new TextField[4];\n      testo[0] = new TextField(\"\", 6);\n      testo[1] = new TextField(\"\", 25);\n      testo[2] = new TextField(\"\", 25);\n      testo[3] = new TextField(\"\", 12);\n      for(int i=0;i<testo.length;++i)\n      testo[i].setEditable(false);\n\n      //creo una TextArea\n      list_clienti = new List(10, false);\n\n      panel=new Panel[6];\n      for(int i=0;i<6;++i)\n         {\n            panel[i]=new Panel();\n            panel[i].setLayout(gridbag);\n         }\n      //Creo il pannello in alto a sinistra\n      Utils.constrain(panel[1], etichetta1, 0, 0, 3, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 10, 0); \n      Utils.constrain(panel[1], checkboxes[0], 0, 1, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 5, 0, 0); \n      Utils.constrain(panel[1], checkboxes[1], 0, 2, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 5, 0, 0);\n      Utils.constrain(panel[1], checkboxes[2], 0, 3, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 5, 0, 0);\n            \n      //Creo il pannello ricerca per stanza\n      Utils.constrain(panel[2], etichetta3, 0, 0, 2, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 10, 0);\n      Utils.constrain(panel[2], label1, 0, 1, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.NORTHWEST, 0.0, 0.0, 0, 5, 0, 20);\n      Utils.constrain(panel[2], testo[0], 1, 1, 1, 1, GridBagConstraints.NONE,\n                      GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 0, 0);\n\n      //Creo il pannello ricerca per nome e cognome\n      Utils.constrain(panel[3], etichetta4, 0, 0, 2, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 10, 0);\n      Utils.constrain(panel[3], label2, 0, 1, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.NORTHWEST, 0.0, 0.0, 0, 5, 0, 20);\n      Utils.constrain(panel[3], testo[1], 1, 1, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 0, 0);\n      Utils.constrain(panel[3], label3, 0, 2, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.SOUTHWEST, 0.0, 0.0, 20, 5, 0, 20);\n      Utils.constrain(panel[3], testo[2], 1, 2, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.SOUTHWEST, 1.0, 0.0, 20, 0, 0, 0);\n\n      //Creo il pannnello ricerca per data\n      Utils.constrain(panel[4], etichetta5, 0, 0, 2, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 10, 0);\n      Utils.constrain(panel[4], label5, 0, 1, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 0.0, 0.0, 0, 5, 0, 20);\n      Utils.constrain(panel[4], testo[3], 1, 1, 1, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 0, 5); \n      \n      //Creo il pannello dei pulsanti\n      Utils.constrain(panel[0], Annulla, 1, 0, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.EAST, 0.3, 0.0, 10, 0, 10, 5);\n      Utils.constrain(panel[0], Conferma, 3, 0, 1, 1, GridBagConstraints.NONE,\n                         GridBagConstraints.WEST, 0.3, 0.0, 10, 5, 10, 0);\n\n      //Creo il pannello contenente la list_clienti \n      Utils.constrain(panel[5], etichetta2, 0, 0, 2, 1, GridBagConstraints.NONE,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 0, 0, 10, 0);\n      Utils.constrain(panel[5], list_clienti, 0, 1, 1, 1, GridBagConstraints.BOTH,\n                         GridBagConstraints.NORTHWEST, 1.0, 1.0, 0, 5, 0, 20);\n\n      //Attacco i pannelli al frame\n      this.setLayout(gridbag);\n      Utils.constrain(this, panel[1], 0, 0, 5, 4, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.NORTHWEST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(this, panel[2], 0, 4, 5, 2, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 1.0, 5, 5, 5, 5);\n      Utils.constrain(this, panel[3], 0, 6, 5, 3,GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 1.0, 5, 5, 5, 5);\n      Utils.constrain(this,panel[4], 0, 9, 5, 2,GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 1.0, 5, 5, 5, 5);\n      Utils.constrain(this, panel[0], 0, 11, 5, 1, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.SOUTHEAST, 1.0, 0.0, 5, 5, 5, 5);\n      Utils.constrain(this, panel[5], 0, 12, 5, 7, GridBagConstraints.HORIZONTAL,\n                        GridBagConstraints.WEST, 1.0, 1.0, 5, 5, 5, 5);\n   }"
        },
        {
            "parentClass": "MascheraRicercaStorico",
            "name": "init",
            "sourceCode": "public void init()\n   \t{\n      \tcheckboxes[0].addItemListener(new ItemListener()   \n      \t{\n         \tpublic void itemStateChanged(ItemEvent e)\n         \t{\n            \tif(checkboxes[0].getState())\n            \t{\n                \tif (list_clienti.getItemCount() > 0)\n\t\t\t\t\t\tlist_clienti.removeAll();\n                \ttesto[0].setEditable(true);\n                \tfor(int i=1;i<=3;++i)\n                   \t\ttesto[i].setEditable(false);\n\t\t\t\t\tConferma.setEnabled(true);\n             \t}\n         \t}\n      \t});\n                      \n      \tcheckboxes[1].addItemListener(new ItemListener()   \n      \t{\n         \tpublic void itemStateChanged(ItemEvent e)\n         \t{\n            \tif(checkboxes[1].getState())\n            \t{\n                \tif (list_clienti.getItemCount() > 0)\n\t\t\t\t\t\tlist_clienti.removeAll();\n               \t\t for(int i=1;i<3;++i)\n                   \t\ttesto[i].setEditable(true);\n                \ttesto[0].setEditable(false);\n                \ttesto[3].setEditable(false);\n\t\t\t\t\tConferma.setEnabled(true);\n             \t}\n         \t}\n      \t});\n\n      \tcheckboxes[2].addItemListener(new ItemListener()\n     \t{\n         \tpublic void itemStateChanged(ItemEvent e)\n         \t{\n            \tif(checkboxes[2].getState())\n            \t{\n                \tif (list_clienti.getItemCount() > 0)\n\t\t\t\t\t\tlist_clienti.removeAll();\n                \ttesto[3].setEditable(true);\n                \tfor(int i=0;i<3;++i)\n                   \t\ttesto[i].setEditable(false);\n\t\t\t\t\tConferma.setEnabled(true);\n            \t}\n         \t}\n      \t}); \n\n      \tConferma.addActionListener(new ActionListener()\n      \t{\n         \tpublic void actionPerformed(ActionEvent e)\n         \t{\n\t\t\t\tstartConferma();\n         \t}\n      \t});\n\n\t\tAnnulla.addActionListener(new ActionListener()\n      \t{\n      \t\tpublic void actionPerformed(ActionEvent e)\n         \t{\n            \tdispose();\n            \tpadre.setEnabled(true);\n          \t}\n       \t});\n   \t\t\n   \t\tlist_clienti.addActionListener(new ActionListener()\n      \t{\n         \tpublic void actionPerformed(ActionEvent e)\n         \t{\n\t\t\t\tstartVediCliente();\t\t\n\t\t\t}\n      \t});\n   \t\t\n   \t}"
        },
        {
            "parentClass": "MascheraRicercaStorico",
            "name": "startConferma",
            "sourceCode": "void startConferma()\n   \t{\n\t\tint i;\n\t\tFrame msg;\n\t\t\t\t\n\t\tConferma.setEnabled(false);\n\t\tif (!errori())\n\t\t{\n\t\t\tif(checkboxes[0].getState())\n\t\t\t\telenco_clienti = (Principale.db).foundStorico(testo[0].getText());\n\t\t\telse if(checkboxes[1].getState())\n\t\t\t\telenco_clienti = (Principale.db).foundStorico(testo[1].getText(), testo[2].getText());\n\t\t\telse if(checkboxes[2].getState())\n\t\t\t\telenco_clienti = (Principale.db).foundStorico(DateUtils.convertDate(testo[3].getText()));\n\t\t\telse\n\t\t\t\telenco_clienti = new ListaClienti();\n\t\t\tif (elenco_clienti != null)\n\t\t\t{\n\t\t\t\tif (list_clienti.getItemCount() > 0)\n\t\t\t\t\tlist_clienti.removeAll();\n\t\t\t\tfor (i = 1; i <= elenco_clienti.length(); i++)\n\t\t\t\t\tlist_clienti.addItem((elenco_clienti.getCliente(i)).toString());\n\t\t\t\tif (list_clienti.getItemCount() == 0)\n\t\t\t\t\tmsg = new AvvisoDialog(this, \"Trovata nessuna corrispondenza!\");\n\t\t\t}\n\t\t\telse\n\t\t\t\tmsg = new MessageDialog(this, \"Problemi con il database!\");\n\t\t}\n\t\telse\n\t\t\tmsg = new MessageDialog(this, \"Errore nei parametri!\");\n\t\tfor (i = 0; i<testo.length; i++)\n\t\t{\n\t\t\ttesto[i].setText(\"\");\n\t\t\ttesto[i].setEditable(false);\n\t\t}\n\t\tfor (i = 0; i<checkboxes.length; i++)\n\t\t\tcheckboxes[i].setEnabled(true);\n   \t}"
        },
        {
            "parentClass": "MascheraRicercaStorico",
            "name": "errori",
            "sourceCode": "boolean errori()\n   \t{\n\t\tif(checkboxes[0].getState())\n\t\t\treturn ( (testo[0].getText()).length() > 4 );\n\t\telse if(checkboxes[1].getState())\n\t\t\treturn( (testo[1].getText()).length() > 20 || (testo[2].getText()).length() > 20 );\n\t\telse if(checkboxes[2].getState())\n\t\t\treturn( !DateUtils.dataCorretta(testo[3].getText()) );\n\t\telse\n\t\t\treturn true;\n   \t}"
        },
        {
            "parentClass": "MascheraRicercaStorico",
            "name": "startVediCliente",
            "sourceCode": "void startVediCliente()\n\t{\n\t\tcliente = elenco_clienti.getCliente((list_clienti.getSelectedIndexes())[0]+1);\n\t\tfiglio = new VediCliente(this,cliente);\n\t}"
        }
    ]
}