{
    "DBStatisticheLocalita": [
        {
            "parentClass": "DBStatisticheLocalita",
            "name": "DBStatisticheLocalita",
            "sourceCode": "public DBStatisticheLocalita() {\r\n    }"
        },
        {
            "parentClass": "DBStatisticheLocalita",
            "name": "ottieniListaLocalita",
            "sourceCode": "public ArrayList<String> ottieniListaLocalita() throws SQLException {\r\n        // Variable for the connection\r\n        Connection conn = null;\r\n        // Variable for the query\r\n        Statement stat = null;\r\n        // Variable for the query results\r\n        ResultSet result = null;\r\n        try {\r\n            // Get the connection\r\n            conn = DBConnessionePool.ottieniConnessione();\r\n            // Create the Statement\r\n            stat = conn.createStatement();\r\n            // Query for the extraction of location between the PR and BC\r\n            String query = \"(SELECT DISTINCT Location FROM beneculturale) UNION (SELECT DISTINCT Location FROM puntodiristoro)\";\r\n            // The query is executed\r\n            result = stat.executeQuery(query);\r\n            // List that includes the results obtained\r\n            ArrayList<String> list = new ArrayList<>();\r\n            while (result.next()) {\r\n                // Add to the list the locations obtained\r\n                list.add(result.getString(\"Location\"));\r\n            }\r\n            return list;\r\n        } finally {\r\n            // Always runs and takes care to close the Result, the Statement, and Connection\r\n            if (result != null) {\r\n                result.close();\r\n            }\r\n            if (stat != null) {\r\n                stat.close();\r\n            }\r\n            if (conn != null) {\r\n                DBConnessionePool.rilasciaConnessione(conn);\r\n            }\r\n        }\r\n    }"
        },
        {
            "parentClass": "DBStatisticheLocalita",
            "name": "ottieniMedieVotiLocalita",
            "sourceCode": "public double ottieniMedieVotiLocalita(String plocalita) throws SQLException {\r\n        // Variable for the connection\r\n        Connection conn = null;\r\n        // Variable for the query\r\n        Statement stat = null;\r\n        // Variable for the query results\r\n        ResultSet result = null;\r\n        try {\r\n            // Get the connection\r\n            conn = DBConnessionePool.ottieniConnessione();\r\n            // Create the Statement\r\n            stat = conn.createStatement();\r\n            // Query to extract the average of the votes of catering outlets according to a Passo\r\n            String query = \"SELECT avg(MediaVoti) AS MediaVoti FROM puntodiristoro WHERE Location = '\" + plocalita + \"'\";\r\n            // The query is executed\r\n            result = stat.executeQuery(query);\r\n            // We extract the results from the result set\r\n            double point = 0.0;\r\n            if (result.next()) {\r\n                point = result.getDouble(\"MediaVoti\");\r\n            }\r\n            // Query to extract the average of the votes of cultural according to a Passo\r\n            query = \"SELECT avg(MediaVoti) AS MediaVoti FROM beneculturale WHERE Location = '\" + plocalita + \"'\";\r\n            // The query is executed\r\n            result = stat.executeQuery(query);\r\n            // We extract the results from the result set\r\n            double good = 0.0;\r\n            if (result.next()) {\r\n                good = result.getDouble(\"MediaVoti\");\r\n            }\r\n            // It returns the average of the refreshment and heritage\r\n            return (good + point) / 2;\r\n        } finally {\r\n            // Always runs and takes care to close the Result, the Statement, and Connection\r\n            if (result != null) {\r\n                result.close();\r\n            }\r\n            if (stat != null) {\r\n                stat.close();\r\n            }\r\n            if (conn != null) {\r\n                DBConnessionePool.rilasciaConnessione(conn);\r\n            }\r\n        }\r\n    }"
        }
    ]
}