{
  "SchedaTurista": [
    {
      "parentClass": "JInternalFrame",
      "name": "SchedaTurista",
      "sourceCode": "public SchedaTurista(Turisti pParent, BeanTurista pTurista, boolean pModifica) {\n    super();\n    this.parent = pParent;\n    setIconifiable(true);\n    setSize(560, 520);\n    suggestions = new Vector<>();\n    setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\n    setClosable(true);\n    tourist = pTurista;\n    if (tourist.isAttiva()) {\n        setFrameIcon(new ImageIcon(\n                getClass().getResource(\"/unisa/gps/eTour/gui/operatoreagenzia/images/tab_turista.png\")));\n    } else {\n        setFrameIcon(new ImageIcon(\n                getClass().getResource(\"/unisa/gps/etour/gui/operatoreagenzia/images/DisattivaTurista32.png\")));\n    }\n    initialize();\n    if (pModifica) {\n        btnModifica.setSelected(true);\n        btnSalva.setVisible(true);\n        btnReimposta.setVisible(true);\n    } else {\n        mostraNascondiSuggerimenti();\n        attivaDisattivaEdit();\n    }\n    addInternalFrameListener(new InternalFrameAdapter() {\n        public void internalFrameClosing(InternalFrameEvent pEvent) {\n            if (btnModifica.isSelected()) {\n                JPanel root = new JPanel(new BorderLayout());\n                JLabel message = new JLabel(\"Are you sure you want to close the tab of this tourist?\");\n                message.setFont(new Font(\"Dialog\", Font.BOLD, 14));\n                JLabel alert = new JLabel(\"Warning! Unsaved data will be lost.\", SwingConstants.CENTER);\n                alert.setIcon(new ImageIcon(getClass().getResource(\"/unisa/gps/etour/gui/operatoreagenzia/images/warning16.png\")));\n                root.add(message, BorderLayout.NORTH);\n                root.add(alert, BorderLayout.CENTER);\n                String[] options = {\"Close\", \"Cancel\"};\n                int choice = JOptionPane.showInternalOptionDialog(jContentPane, root,\n                        \"Confirm closing Tourist Card \" + tourist.getNome() + \" \" + tourist.getCognome(),\n                        JOptionPane.OK_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE, getFrameIcon(), options, options[1]);\n                if (choice == JOptionPane.OK_OPTION) {\n                    parent.closeScheda((SchedaTurista) pEvent.getInternalFrame());\n                }\n            } else {\n                parent.closeScheda((SchedaTurista) pEvent.getInternalFrame());\n            }\n        }\n    });\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "initialize",
      "sourceCode": "private void initialize() {\n    jContentPane = new JPanel();\n    jContentPane.setLayout(new BorderLayout());\n    jContentPane.add(getToolbarscheda(), BorderLayout.CENTER);\n    jTabbedPane = new JTabbedPane();\n    jTabbedPane.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n    jTabbedPane.addTab(\"Tourist Information\", getFrameIcon(), getDatiTuristaForm(), null);\n    jContentPane.add(jTabbedPane, BorderLayout.CENTER);\n    setContentPane(jContentPane);\n    caricaDatiForm();\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "caricaDatiForm",
      "sourceCode": "private void caricaDatiForm() {\n    setTitle(\"Profile Tourist - \" + tourist.getNome() + \" \" + tourist.getCognome());\n    name.setText(tourist.getNome());\n    ch.setText(tourist.getCognome());\n    Date dob = tourist.getDataNascita();\n    day.setSelectedIndex(dob.getDate() - 1);\n    month.setSelectedIndex(dob.getMonth());\n    year.setSelectedIndex(dob.getYear() + 1900);\n    StringTokenizer tokenizer = new StringTokenizer(tourist.getVia());\n    String string = tokenizer.nextToken();\n    address1.setSelectedItem(string);\n    address2.setText(tourist.getVia().substring(string.length()));\n    luogoNascita.setText(tourist.getCittaNascita());\n    phone.setText(tourist.getTelefono());\n    city.setText(tourist.getCittaResidenza());\n    password.setText(tourist.getPassword());\n    province.setSelectedItem(tourist.getProvincia());\n    username.setText(tourist.getUsername());\n    ch.setText(tourist.getCap());\n    dataRegistrazione.setText(Data.toEstesa(tourist.getDataRegistrazione()));\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "mostraNascondiSuggerimenti",
      "sourceCode": "private void mostraNascondiSuggerimenti() {\n    Iterator<JLabel> s = suggestions.iterator();\n    while (s.hasNext()) {\n        JLabel current = s.next();\n        current.setVisible(!current.isVisible());\n    }\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "attivaDisattivaEdit",
      "sourceCode": "private void attivaDisattivaEdit() {\n    Component[] components = datiTurista.getComponents();\n    for (Component component : components) {\n        if (component instanceof JTextField) {\n            JTextField textbox = (JTextField) component;\n            textbox.setEditable(!textbox.isEditable());\n            textbox.setBackground(Color.white);\n        } else if (component instanceof JComboBox) {\n            JComboBox<?> combo = (JComboBox<?>) component;\n            combo.setEnabled(!combo.isEnabled());\n        }\n    }\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "getToolbarscheda",
      "sourceCode": "private JToolBar getToolbarscheda() {\n    if (toolbarscheda == null) {\n        toolbarscheda = new JToolBar();\n        toolbarscheda.setFloatable(false);\n        toolbarscheda.add(getBtnModifica());\n        toolbarscheda.addSeparator();\n        toolbarscheda.add(getBtnSalva());\n        toolbarscheda.addSeparator();\n        toolbarscheda.add(getBtnReimposta());\n        toolbarscheda.addSeparator();\n    }\n    return toolbarscheda;\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "getBtnModifica",
      "sourceCode": "private JToggleButton getBtnModifica() {\n    if (btnModifica == null) {\n        btnModifica = new JToggleButton();\n        btnModifica.setText(\"Change Data\");\n        btnModifica.setIcon(new ImageIcon(\n                getClass().getResource(\"/unisa/gps/etour/gui/operatoreagenzia/images/ModificaTurista32.png\")));\n        btnModifica.setToolTipText(\"Enable or disable data modification tourists selected.\");\n        btnModifica.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                mostraNascondiSuggerimenti();\n                attivaDisattivaEdit();\n                btnSalva.setVisible(btnModifica.isSelected());\n                btnReimposta.setVisible(btnModifica.isSelected());\n            }\n        });\n    }\n    return btnModifica;\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "getBtnSalva",
      "sourceCode": "private JButton getBtnSalva() {\n    if (btnSalva == null) {\n        btnSalva = new JButton();\n        btnSalva.setText(\"Save\");\n        btnSalva.setIcon(new ImageIcon(getClass().getResource(\n                \"/unisa/gps/eTour/gui/operatoreagenzia/images/salva.png\")));\n        btnSalva.setToolTipText(\"Save changes to the tourist profile selected.\");\n        btnSalva.setVisible(false);\n        btnSalva.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent pEvent) {\n                JPanel root = new JPanel(new BorderLayout());\n                JLabel message = new JLabel(\"Updating the tourist profile of \"\n                        + tourist.getNome() + \" \" + tourist.getCognome() + \" with data form?\");\n                message.setFont(new Font(\"Dialog\", Font.BOLD, 14));\n                JLabel alert = new JLabel(\"The previous data can not be more recovered.\", SwingConstants.CENTER);\n                alert.setIcon(new ImageIcon(getClass().getResource(\"/unisa/gps/etour/gui/operatoreagenzia/images/warning16.png\")));\n                root.add(message, BorderLayout.NORTH);\n                root.add(alert, BorderLayout.CENTER);\n                String[] options = {\"Edit\", \"Cancel\"};\n                int choice = JOptionPane.showInternalOptionDialog(jContentPane, root,\n                        \"Commit Changes tourist figures\",\n                        JOptionPane.YES_NO_OPTION,\n                        JOptionPane.QUESTION_MESSAGE,\n                        new ImageIcon(getClass().getResource(\"/unisa/gps/etour/gui/operatoreagenzia/images/ModificaTurista48.png\")),\n                        options, options[1]);\n                if (choice == JOptionPane.YES_OPTION) {\n                    tourist.setNome(name.getText());\n                    tourist.setCognome(ch.getText());\n                    tourist.setCap(ch.getText());\n                    tourist.setCittaNascita(luogoNascita.getText());\n                    tourist.setDataNascita(new Date(year.getSelectedIndex() + 1900, month.getSelectedIndex(), day.getSelectedIndex() + 1));\n                    tourist.setCittaResidenza(city.getText());\n                    tourist.setUsername(username.getText());\n                    tourist.setEmail(email.getText());\n                    tourist.setTelefono(phone.getText());\n                    tourist.setVia(address1.getSelectedItem().toString() + \" \" + address2.getText());\n                    tourist.setProvincia(province.getSelectedItem().toString());\n                    String pass = \"\";\n                    char[] passwordChars = password.getPassword();\n                    for (char passwordChar : passwordChars) {\n                        pass += passwordChar;\n                    }\n                    tourist.setPassword(pass);\n                    caricaDatiForm();\n                    attivaDisattivaEdit();\n                    btnSalva.setVisible(false);\n                    btnReimposta.setVisible(false);\n                    btnModifica.setSelected(false);\n                    mostraNascondiSuggerimenti();\n                    parent.updateTableModel(tourist);\n                    JOptionPane.showInternalMessageDialog(jContentPane,\n                            \"The data of tourists have been updated successfully.\", \"Modified Profile Tourist!\",\n                            JOptionPane.OK_OPTION,\n                            new ImageIcon(getClass().getResource(\"/unisa/gps/etour/gui/operatoreagenzia/images/ok48.png\")));\n                }\n            }\n        });\n    }\n    return btnSalva;\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "getBtnReimposta",
      "sourceCode": "private JButton getBtnReimposta() {\n    if (btnReimposta == null) {\n        btnReimposta = new JButton();\n        btnReimposta.setText(\"Reset\");\n        btnReimposta.setIcon(new ImageIcon(getClass().getResource(\n                \"/unisa/gps/etour/gui/operatoreagenzia/images/Annulla32.png\")));\n        btnReimposta.setToolTipText(\"Reload the selected tourist information.\");\n        btnReimposta.setVisible(false);\n        btnReimposta.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                caricaDatiForm();\n            }\n        });\n    }\n    return btnReimposta;\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "getDatiTuristaForm",
      "sourceCode": "private JPanel getDatiTuristaForm() {\n    if (datiTurista == null) {\n        datiTurista = new JPanel(null);\n        datiTurista.setBorder(new SoftBevelBorder(SoftBevelBorder.LOWERED));\n        // Creation Tips\n        String[] txts = {\"Name\", \"Surname\", \"Date of Birth\", \"Place of Birth\", \"Phone\", \"Address\", \"City\", \"CAP\", \"Province\", \"E-Mail\", \"Username\", \"Password\", \"Save\"};\n\n        for (int i = 0; i < help.length; i++) {\n            JLabel newLabel = new JLabel();\n            newLabel.setIcon(new ImageIcon(getClass().getResource(\"/unisa/gps/etour/gui/images/Info16.png\")));\n            newLabel.setBounds(145, 8 + 30 * i, 24, 24);\n            newLabel.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n            newLabel.setToolTipText(help[i]);\n            suggestions.add(newLabel);\n            datiTurista.add(newLabel);\n        }\n\n        for (int i = 0; i < txts.length; i++) {\n            JLabel newLabel = new JLabel(txts[i], SwingConstants.RIGHT);\n            newLabel.setBounds(25, 10 + 30 * i, 120, 20);\n            datiTurista.add(newLabel, null);\n        }\n        // Name\n        name = new JTextField(12);\n        name.setBounds(185, 10, 136, 20);\n        name.setName(\"Name\");\n        datiTurista.add(name, null);\n\n        // Surname\n        ch = new JTextField(12);\n        ch.setBounds(185, 40, 136, 20);\n        ch.setName(\"Surname\");\n        datiTurista.add(ch, null);\n\n        // Date of Birth\n        day = new JComboBox<>();\n        day.setBounds(185, 70, 40, 20);\n        for (int i = 1; i <= 31; i++) {\n            day.addItem(i);\n        }\n        month = new JComboBox<>();\n        month.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent pEvent) {\n                int number = day.getItemCount();\n                switch (month.getSelectedIndex()) {\n                    case 0:\n                    case 2:\n                    case 4:\n                    case 6:\n                    case 7:\n                    case 9:\n                    case 11:\n                        for (int i = number + 1; i <= 31; i++) {\n                            day.addItem(i);\n                        }\n                        break;\n                    case 1:\n                        int yearIndex = (Integer) year.getSelectedItem();\n                        boolean leap = ((yearIndex % 4 == 0 && yearIndex % 100 != 0) || (yearIndex % 400 == 0));\n                        if (number != 28) {\n                            for (int i = number - 1; i > 27; i--) {\n                                day.removeItemAt(i);\n                            }\n                        }\n                        if (leap && number != 29) {\n                            day.addItem(\"29\");\n                        }\n                        break;\n                    case 3:\n                    case 5:\n                    case 8:\n                    case 10:\n                        if (number == 31) {\n                            day.removeItemAt(30);\n                        } else {\n                            for (int i = number + 1; i <= 30; i++) {\n                                day.addItem(i);\n                            }\n                        }\n                        break;\n                }\n            }\n        });\n        month.setBounds(245, 70, 40, 20);\n        for (int i = 1; i <= 12; i++) {\n            month.addItem(i);\n        }\n        year = new JComboBox<>();\n        year.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                if (month.getSelectedIndex() == 1) {\n                    int yearIndex = (Integer) year.getSelectedItem();\n                    boolean leap = ((yearIndex % 4 == 0 && yearIndex % 100 != 0) || (yearIndex % 400 == 0));\n                    int number = day.getItemCount();\n                    if (leap && number != 29) {\n                        day.addItem(\"29\");\n                    } else if (leap && number == 29) {\n                        day.removeItemAt(28);\n                    }\n                }\n            }\n        });\n        year.setBounds(305, 70, 80, 20);\n        Date today = new Date();\n        for (int i = 0; i <= today.getYear() - 14; i++) {\n            year.addItem(1900 + i);\n        }\n        datiTurista.add(day, null);\n        datiTurista.add(month, null);\n        datiTurista.add(year, null);\n\n        // Place of Birth\n        luogoNascita = new JTextField(12);\n        luogoNascita.setBounds(185, 100, 136, 20);\n        luogoNascita.setName(\"Birth Place\");\n        datiTurista.add(luogoNascita, null);\n\n        // Phone\n        phone = new JTextField(12);\n        phone.setBounds(185, 130, 136, 20);\n        phone.setName(\"Phone\");\n        datiTurista.add(phone, null);\n\n        // Address\n        address2 = new JTextField(12);\n        address2.setBounds(270, 160, 136, 20);\n        address1 = new JComboBox<>();\n        address1.setSelectedIndex(-1);\n        address1.setBounds(185, 160, 60, 20);\n        datiTurista.add(address2, null);\n        datiTurista.add(address1, null);\n\n        // City\n        city = new JTextField(12);\n        city.setBounds(185, 190, 136, 20);\n        city.setName(\"City\");\n        datiTurista.add(city, null);\n\n        // CAP\n        ch = new JTextField(8);\n        ch.setBounds(185, 220, 92, 20);\n        datiTurista.add(ch, null);\n\n        // State\n        province = new JComboBox<>();\n        province.setSelectedIndex(-1);\n        province.setBounds(185, 250, 50, 20);\n        datiTurista.add(province, null);\n\n        // E-Mail\n        email = new JTextField();\n        email.setBounds(185, 280, 200, 20);\n        email.setName(\"E-Mail\");\n        datiTurista.add(email, null);\n\n        // Username\n        username = new JTextField();\n        username.setBounds(185, 310, 136, 20);\n        username.setName(\"Username\");\n        datiTurista.add(username, null);\n\n        // Password\n        password = new JPasswordField(12);\n        password.setBounds(185, 340, 136, 20);\n        password.setName(\"Password\");\n        datiTurista.add(password, null);\n\n        // Data entry\n        dataRegistrazione = new JLabel();\n        dataRegistrazione.setBounds(185, 370, 140, 20);\n        datiTurista.add(dataRegistrazione, null);\n    }\n    return datiTurista;\n}"
    },
    {
      "parentClass": "JInternalFrame",
      "name": "getId",
      "sourceCode": "public int getId() {\n    return tourist.getId();\n}"
    }
  ]
}