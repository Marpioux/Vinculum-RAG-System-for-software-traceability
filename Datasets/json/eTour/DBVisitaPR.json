[
    {
        "methods": [
            {
                "body": "Optional[{\r\n    // Variable for the connection\r\n    Connection conn = null;\r\n    // Variable for the query\r\n    Statement stat = null;\r\n    // Variable for the query results\r\n    ResultSet result = null;\r\n    try {\r\n        // Create the date of visit\r\n        java.sql.Date dataVisita = new Date(pVisita.getDataVisita().getTime());\r\n        // Get the connection\r\n        conn = DBConnessionePool.ottieniConnessione();\r\n        // Create the Statement\r\n        stat = conn.createStatement();\r\n        // Query to get the average rating of a property\r\n        String queryMediaVoti = \"SELECT MediaVoti, NumeroVoti FROM puntodiristoro WHERE Id = \" + pVisita.getIdPuntoDiRistoro();\r\n        result = stat.executeQuery(queryMediaVoti);\r\n        // Variable for the average rating\r\n        double average = 0;\r\n        // Variable for the number of votes\r\n        int numeroVoti = 0;\r\n        if (result.next()) {\r\n            average = result.getDouble(\"MediaVoti\");\r\n            numeroVoti = result.getInt(\"NumeroVoti\");\r\n            average = ((average * numeroVoti) + pVisita.getVoto()) / (++numeroVoti);\r\n        }\r\n        // Query for the insertion\r\n        String query = \"INSERT INTO visitapr (IdTurista, IdPuntoDiRistoro, DataVisita, Vote, Comment) VALUES (\" + pVisita.getIdTurista() + \", \" + pVisita.getIdPuntoDiRistoro() + \", '\" + dataVisita + \"', \" + pVisita.getVoto() + \", '\" + pVisita.getCommento() + \"')\";\r\n        String query2 = \"UPDATE puntodiristoro SET MediaVoti = \" + average + \", NumeroVoti = \" + numeroVoti + \" WHERE Id = \" + pVisita.getIdPuntoDiRistoro();\r\n        // Execute the insert query\r\n        stat.executeQuery(\"BEGIN\");\r\n        int i = stat.executeUpdate(query);\r\n        i = i * stat.executeUpdate(query2);\r\n        stat.executeQuery(\"COMMIT\");\r\n        // This returns the backup\r\n        return (i == 1);\r\n    } finally {\r\n        // Always runs and takes care to close the Result, the Statement\r\n        // And Connection\r\n        if (result != null) {\r\n            result.close();\r\n        }\r\n        if (stat != null) {\r\n            stat.close();\r\n        }\r\n        if (conn != null) {\r\n            DBConnessionePool.rilasciaConnessione(conn);\r\n        }\r\n    }\r\n}]",
                "hasComment": false,
                "hasInnerComment": true,
                "signature": "public boolean inserisciVisitaPR(BeanVisitaPR)",
                "comments": null,
                "innerComments": "Optional[[// Variable for the connection\r\n, // Variable for the query\r\n, // Variable for the query results\r\n, // Create the date of visit\r\n, // Get the connection\r\n, // Create the Statement\r\n, // Query to get the average rating of a property\r\n, // Variable for the average rating\r\n, // Variable for the number of votes\r\n, // Query for the insertion\r\n, // Execute the insert query\r\n, // This returns the backup\r\n, // Always runs and takes care to close the Result, the Statement\r\n, // And Connection\r\n]]",
                "generated_comment": "/**\n * Inserts a visit made by a tourist to a restaurant in the database and updates the average rating of the restaurant.\n * \n * @param pVisita the BeanVisitaPR object containing the details of the visit to be inserted\n * @return true if the visit was successfully inserted and the restaurant's rating was updated, false otherwise\n * @throws SQLException if an error occurs while executing the SQL queries\n */\npublic boolean inserisciVisitaPR(BeanVisitaPR pVisita) {\n    // Variable for the connection\n    Connection conn = null;\n    // Variable for the query\n    Statement stat = null;\n    // Variable for the query results\n    ResultSet result = null;\n    try {\n        // Create the date of visit\n        java.sql.Date dataVisita = new Date(pVisita.getDataVisita().getTime());\n        // Get the connection\n        conn = DBConnessionePool.ottieniConnessione();\n        // Create the Statement\n        stat = conn.createStatement();\n        // Query to get the average rating of a property\n        String queryMediaVoti = \"SELECT MediaVoti, NumeroVoti FROM puntodiristoro WHERE Id = \" + pVisita.getIdPuntoDiRistoro();\n        result = stat.executeQuery(queryMediaVoti);\n        // Variable for the average rating\n        double average = 0;\n        // Variable for the number of votes\n        int numeroVoti = 0;\n        if (result.next()) {\n            average = result.getDouble(\"MediaVoti\");\n            numeroVoti = result.getInt(\"NumeroVoti\");\n            average = ((average * numeroVoti) + pVisita.getVoto()) / (++numeroVoti);\n        }\n        // Query for the insertion\n        String query = \"INSERT INTO visitapr (IdTurista, IdPuntoDiRistoro, DataVisita, Vote, Comment) VALUES (\" + pVisita.getIdTurista() + \", \" + pVisita.getIdPuntoDiRistoro() + \", '\" + dataVisita + \"', \" + pVisita.getVoto() + \", '\" + pVisita.getCommento() + \"')\";\n        String query2 = \"UPDATE puntodiristoro SET MediaVoti = \" + average + \", NumeroVoti = \" + numeroVoti + \" WHERE Id = \" + pVisita.getIdPuntoDiRistoro();\n        // Execute the insert query\n        stat.executeQuery(\"BEGIN\");\n        int i = stat.executeUpdate(query);\n        i = i * stat.executeUpdate(query2);\n        stat.executeQuery(\"COMMIT\");\n        // This returns the backup\n        return (i == 1);\n    } finally {\n        // Always runs and takes care to close the Result, the Statement\n        // And Connection\n        if (result != null) {\n            result.close();\n        }\n        if (stat != null) {\n            stat.close();\n        }\n        if (conn != null) {\n            DBConnessionePool.rilasciaConnessione(conn);\n        }\n    }\n}\n*/"
            },
            {
                "body": "Optional[{\r\n    // Variable for the connection\r\n    Connection conn = null;\r\n    // Variable for the query\r\n    Statement stat = null;\r\n    try {\r\n        // Create the date of visit\r\n        java.sql.Date dataVisita = new Date(pVisita.getDataVisita().getTime());\r\n        // Get the connection\r\n        conn = DBConnessionePool.ottieniConnessione();\r\n        // Create the Statement\r\n        stat = conn.createStatement();\r\n        // Query for amendment\r\n        String query = \"UPDATE visitapr SET DataVisita = '\" + dataVisita + \"', Comment = '\" + pVisita.getCommento() + \"' WHERE IdPuntoDiRistoro = \" + pVisita.getIdPuntoDiRistoro() + \" AND IdTurista = \" + pVisita.getIdTurista();\r\n        // Execute the query for Change\r\n        int i = stat.executeUpdate(query);\r\n        // This returns the backup\r\n        return (i == 1);\r\n    } finally {\r\n        // Always runs and takes care to close the Result, the Statement\r\n        // And Connection\r\n        if (stat != null) {\r\n            stat.close();\r\n        }\r\n        if (conn != null) {\r\n            DBConnessionePool.rilasciaConnessione(conn);\r\n        }\r\n    }\r\n}]",
                "hasComment": false,
                "hasInnerComment": true,
                "signature": "public boolean modificaVisitaPR(BeanVisitaPR)",
                "comments": null,
                "innerComments": "Optional[[// Variable for the connection\r\n, // Variable for the query\r\n, // Create the date of visit\r\n, // Get the connection\r\n, // Create the Statement\r\n, // Query for amendment\r\n, // Execute the query for Change\r\n, // This returns the backup\r\n, // Always runs and takes care to close the Result, the Statement\r\n, // And Connection\r\n]]",
                "generated_comment": "/**\n * Modifies a visit to a restaurant for a tourist in the database.\n * \n * @param pVisita the BeanVisitaPR object containing the details of the visit to be modified\n * @return true if the visit was successfully modified, false otherwise\n * @throws SQLException if an error occurs while executing the SQL query\n * \n * This method updates the date of the visit and the comment for a specific restaurant visit by a tourist.\n * It connects to the database, creates a SQL query to update the visit details, and executes the query.\n * If the update is successful, it returns true. Otherwise, it returns false.\n * The connection, statement, and result set are properly closed in a finally block to ensure resources are released.\n */"
            },
            {
                "body": "Optional[{\r\n    // Variable for the connection\r\n    Connection conn = null;\r\n    // Variable for the query\r\n    Statement stat = null;\r\n    // Variable for the query results\r\n    ResultSet result = null;\r\n    try {\r\n        // Get the connection\r\n        conn = DBConnessionePool.ottieniConnessione();\r\n        // Create the Statement\r\n        stat = conn.createStatement();\r\n        // Query to extract the list of requests for a Refreshment\r\n        String query = \"SELECT * FROM visitapr WHERE IdPuntoDiRistoro = \" + pIdPuntoDiRistoro;\r\n        // The query is executed\r\n        result = stat.executeQuery(query);\r\n        ArrayList<BeanVisitaPR> list = new ArrayList<BeanVisitaPR>();\r\n        // Extract the results from the result set and move to List\r\n        while (result.next()) {\r\n            java.util.Date dataVisita = new java.util.Date(result.getDate(\"DataVisita\").getTime());\r\n            list.add(new BeanVisitaPR(result.getInt(\"IdTurista\"), result.getInt(\"IdPuntoDiRistoro\"), result.getString(\"Comment\"), result.getInt(\"IdTurista\"), dataVisita));\r\n        }\r\n        return list;\r\n    } finally {\r\n        // Always runs and takes care to close the Result, the Statement\r\n        // And Connection\r\n        if (result != null) {\r\n            result.close();\r\n        }\r\n        if (stat != null) {\r\n            stat.close();\r\n        }\r\n        if (conn != null) {\r\n            DBConnessionePool.rilasciaConnessione(conn);\r\n        }\r\n    }\r\n}]",
                "hasComment": false,
                "hasInnerComment": true,
                "signature": "public ArrayList<BeanVisitaPR> ottieniListaVisitaPR(int)",
                "comments": null,
                "innerComments": "Optional[[// Variable for the connection\r\n, // Variable for the query\r\n, // Variable for the query results\r\n, // Get the connection\r\n, // Create the Statement\r\n, // Query to extract the list of requests for a Refreshment\r\n, // The query is executed\r\n, // Extract the results from the result set and move to List\r\n, // Always runs and takes care to close the Result, the Statement\r\n, // And Connection\r\n]]",
                "generated_comment": "/**\n * Retrieves a list of visits to a specific Refreshment Point based on the provided Refreshment Point ID.\n * \n * @param pIdPuntoDiRistoro the ID of the Refreshment Point for which to retrieve the list of visits\n * @return an ArrayList of BeanVisitaPR objects representing the visits to the specified Refreshment Point\n * \n * This method connects to the database, executes a query to retrieve the list of visits for the specified Refreshment Point,\n * and maps the results to BeanVisitaPR objects. It then returns the list of visits as an ArrayList.\n * \n * @throws SQLException if an error occurs while accessing the database\n */"
            },
            {
                "body": "Optional[{\r\n    // Variable for the connection\r\n    Connection conn = null;\r\n    // Variable for the query\r\n    Statement stat = null;\r\n    // Variable for the query results\r\n    ResultSet result = null;\r\n    try {\r\n        // Get the connection\r\n        conn = DBConnessionePool.ottieniConnessione();\r\n        // Create the Statement\r\n        stat = conn.createStatement();\r\n        // Query to extract the list of requests for a Eating place for tourists\r\n        String query = \"SELECT * FROM visitapr WHERE IdTurista = \" + pIdTurista;\r\n        // The query is executed\r\n        result = stat.executeQuery(query);\r\n        // List that will contain the BeanVisitaPR\r\n        ArrayList<BeanVisitaPR> list = new ArrayList<BeanVisitaPR>();\r\n        // Extract the results from the result set and move to List\r\n        while (result.next()) {\r\n            // Add to the list BeanVisitaPR\r\n            java.util.Date dataVisita = new java.util.Date(result.getDate(\"DataVisita\").getTime());\r\n            list.add(new BeanVisitaPR(result.getInt(\"IdTurista\"), result.getInt(\"IdPuntoDiRistoro\"), result.getString(\"Comment\"), result.getInt(\"IdTurista\"), dataVisita));\r\n        }\r\n        // Return the list\r\n        return list;\r\n    } finally {\r\n        // Always runs and takes care to close the Result, the Statement\r\n        // And Connection\r\n        if (result != null) {\r\n            result.close();\r\n        }\r\n        if (stat != null) {\r\n            stat.close();\r\n        }\r\n        if (conn != null) {\r\n            DBConnessionePool.rilasciaConnessione(conn);\r\n        }\r\n    }\r\n}]",
                "hasComment": false,
                "hasInnerComment": true,
                "signature": "public ArrayList<BeanVisitaPR> ottieniListaVisitaPRTurista(int)",
                "comments": null,
                "innerComments": "Optional[[// Variable for the connection\r\n, // Variable for the query\r\n, // Variable for the query results\r\n, // Get the connection\r\n, // Create the Statement\r\n, // Query to extract the list of requests for a Eating place for tourists\r\n, // The query is executed\r\n, // List that will contain the BeanVisitaPR\r\n, // Extract the results from the result set and move to List\r\n, // Add to the list BeanVisitaPR\r\n, // Return the list\r\n, // Always runs and takes care to close the Result, the Statement\r\n, // And Connection\r\n]]",
                "generated_comment": "/**\n * Retrieves a list of visit requests for a Eating place for tourists based on the provided tourist ID.\n * \n * @param pIdTurista the ID of the tourist for which to retrieve the visit requests\n * @return an ArrayList of BeanVisitaPR objects containing the visit requests for the specified tourist\n * @throws SQLException if an error occurs while accessing the database\n */\npublic ArrayList<BeanVisitaPR> ottieniListaVisitaPRTurista(int pIdTurista) throws SQLException {\n    // Variable for the connection\n    Connection conn = null;\n    // Variable for the query\n    Statement stat = null;\n    // Variable for the query results\n    ResultSet result = null;\n    try {\n        // Get the connection\n        conn = DBConnessionePool.ottieniConnessione();\n        // Create the Statement\n        stat = conn.createStatement();\n        // Query to extract the list of requests for a Eating place for tourists\n        String query = \"SELECT * FROM visitapr WHERE IdTurista = \" + pIdTurista;\n        // The query is executed\n        result = stat.executeQuery(query);\n        // List that will contain the BeanVisitaPR\n        ArrayList<BeanVisitaPR> list = new ArrayList<BeanVisitaPR>();\n        // Extract the results from the result set and move to List\n        while (result.next()) {\n            // Add to the list BeanVisitaPR\n            java.util.Date dataVisita = new java.util.Date(result.getDate(\"DataVisita\").getTime());\n            list.add(new BeanVisitaPR(result.getInt(\"IdTurista\"), result.getInt(\"IdPuntoDiRistoro\"), result.getString(\"Comment\"), result.getInt(\"IdTurista\"), dataVisita));\n        }\n        // Return the list\n        return list;\n    } finally {\n        // Always runs and takes care to close the Result, the Statement\n        // And Connection\n        if (result != null) {\n            result.close();\n        }\n        if (stat != null) {\n            stat.close();\n        }\n        if (conn != null) {\n            DBConnessionePool.rilasciaConnessione(conn);\n        }\n    }\n}\n*/"
            },
            {
                "body": "Optional[{\r\n    // Variable for the connection\r\n    Connection conn = null;\r\n    // Variable for the query\r\n    Statement stat = null;\r\n    // Variable for the query results\r\n    ResultSet result = null;\r\n    try {\r\n        // Get the connection\r\n        conn = DBConnessionePool.ottieniConnessione();\r\n        // Create the Statement\r\n        stat = conn.createStatement();\r\n        // Query for the extraction of the visit made by a tourist to A given point of comfort\r\n        String query = \"SELECT * FROM visitapr WHERE IdPuntoDiRistoro = \" + pIdPuntoDiRistoro + \" AND IdTurista = \" + pIdTurista;\r\n        // The query is executed\r\n        result = stat.executeQuery(query);\r\n        // Get the bean's visit sought based on the ID of the tourist and Of refreshment\r\n        BeanVisitaPR beanTemp = null;\r\n        if (result.next()) {\r\n            // Create the BeanVisitaPR\r\n            java.util.Date dataVisita = new java.util.Date(result.getDate(\"DataVisita\").getTime());\r\n            beanTemp = new BeanVisitaPR(result.getInt(\"IdTurista\"), result.getInt(\"IdPuntoDiRistoro\"), result.getString(\"Comment\"), result.getInt(\"IdTurista\"), dataVisita);\r\n        }\r\n        // Return the BeanTemp\r\n        return beanTemp;\r\n    } finally {\r\n        // Always runs and takes care to close the Result, the Statement\r\n        // And Connection\r\n        if (result != null) {\r\n            result.close();\r\n        }\r\n        if (stat != null) {\r\n            stat.close();\r\n        }\r\n        if (conn != null) {\r\n            DBConnessionePool.rilasciaConnessione(conn);\r\n        }\r\n    }\r\n}]",
                "hasComment": false,
                "hasInnerComment": true,
                "signature": "public BeanVisitaPR ottieniVisitaPR(int, int)",
                "comments": null,
                "innerComments": "Optional[[// Variable for the connection\r\n, // Variable for the query\r\n, // Variable for the query results\r\n, // Get the connection\r\n, // Create the Statement\r\n, // Query for the extraction of the visit made by a tourist to A given point of comfort\r\n, // The query is executed\r\n, // Get the bean's visit sought based on the ID of the tourist and Of refreshment\r\n, // Create the BeanVisitaPR\r\n, // Return the BeanTemp\r\n, // Always runs and takes care to close the Result, the Statement\r\n, // And Connection\r\n]]",
                "generated_comment": "/**\n * Retrieves the visit made by a tourist to a specific point of refreshment.\n * \n * @param pIdPuntoDiRistoro the ID of the point of refreshment\n * @param pIdTurista the ID of the tourist\n * @return the BeanVisitaPR object representing the visit made by the tourist to the specified point of refreshment, \n *         or null if no visit is found\n * @throws SQLException if a database access error occurs\n */\npublic BeanVisitaPR ottieniVisitaPR(int pIdPuntoDiRistoro, int pIdTurista) throws SQLException {\n    // Variable for the connection\n    Connection conn = null;\n    // Variable for the query\n    Statement stat = null;\n    // Variable for the query results\n    ResultSet result = null;\n    try {\n        // Get the connection\n        conn = DBConnessionePool.ottieniConnessione();\n        // Create the Statement\n        stat = conn.createStatement();\n        // Query for the extraction of the visit made by a tourist to a given point of refreshment\n        String query = \"SELECT * FROM visitapr WHERE IdPuntoDiRistoro = \" + pIdPuntoDiRistoro + \" AND IdTurista = \" + pIdTurista;\n        // The query is executed\n        result = stat.executeQuery(query);\n        // Get the bean's visit sought based on the ID of the tourist and of the refreshment\n        BeanVisitaPR beanTemp = null;\n        if (result.next()) {\n            // Create the BeanVisitaPR\n            java.util.Date dataVisita = new java.util.Date(result.getDate(\"DataVisita\").getTime());\n            beanTemp = new BeanVisitaPR(result.getInt(\"IdTurista\"), result.getInt(\"IdPuntoDiRistoro\"), result.getString(\"Comment\"), result.getInt(\"IdTurista\"), dataVisita);\n        }\n        // Return the BeanTemp\n        return beanTemp;\n    } finally {\n        // Always runs and takes care to close the Result, the Statement\n        // And Connection\n        if (result != null) {\n            result.close();\n        }\n        if (stat != null) {\n            stat.close();\n        }\n        if (conn != null) {\n            DBConnessionePool.rilasciaConnessione(conn);\n        }\n    }\n}\n*/"
            }
        ],
        "constructors": [
            {
                "body": "{\r\n}",
                "hasComment": true,
                "hasInnerComment": false,
                "signature": "public DBVisitaPR()",
                "comments": "Optional[// Empty constructor\r\n]",
                "innerComments": null,
                "generated_comment": "/**\n * Constructor for creating a new instance of DBVisitaPR.\n * This constructor does not take any parameters.\n * \n * @param None\n * @return A new instance of DBVisitaPR\n */"
            }
        ],
        "signature": "DBVisitaPR",
        "variables": [],
        "generated_class_comment": "/**\n * The DBVisitaPR class provides methods for interacting with the database to manage visits to refreshment points by tourists.\n * It includes functionality for inserting, modifying, and retrieving visit information, as well as updating the average rating of refreshment points.\n * \n * This class contains methods to insert a visit made by a tourist to a refreshment point, update the details of a visit, retrieve a list of visits to a specific refreshment point,\n * retrieve a list of visit requests for a refreshment point by a tourist, and obtain the details of a specific visit made by a tourist to a refreshment point.\n * \n * The class also includes a constructor for creating a new instance of DBVisitaPR.\n * \n * The methods in this class handle database connections, execute SQL queries to interact with the database, and properly manage resources such as connections, statements, and result sets.\n * \n * @author [Author Name]\n * @version [Version Number]\n * @since [Date or Version Number]\n */"
    }
]