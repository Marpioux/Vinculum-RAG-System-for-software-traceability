[
    {
        "methods": [
            {
                "body": "Optional[{\r\n    VisitReminderReturnForm temp;\r\n    VisitReminderReturnFormLoader loader = new VisitReminderReturnFormLoader();\r\n    List<VisitReminderReturnForm> patients = new ArrayList<VisitReminderReturnForm>();\r\n    Connection conn = null;\r\n    PreparedStatement ps = null;\r\n    ResultSet rs = null;\r\n    try {\r\n        conn = factory.getConnection();\r\n        ps = conn.prepareStatement(\"SELECT DISTINCT\" + \"       ? as hid, \" + \"       dhcp.patientid, \" + \"       p.lastName, \" + \"       p.firstName, \" + \"       p.phone1, \" + \"       p.phone2, \" + \"       p.phone3 \" + \"  FROM \" + \"       Patients p, \" + \"       declaredhcp dhcp \" + \" WHERE \" + \"\t\tdhcp.hcpid = ? \" + \" AND \" + \"     p.MID = dhcp.patientid \" + \" AND \" + \"\t\tp.dateofdeath is null \" + \" AND \" + \"     p.dateofbirth > DATE_SUB(CURDATE(), INTERVAL 19 YEAR) \");\r\n        ps.setLong(1, hcpid);\r\n        ps.setLong(2, hcpid);\r\n        rs = ps.executeQuery();\r\n        while (rs.next()) {\r\n            temp = loader.loadSingle(rs);\r\n            patients.add(temp);\r\n        }\r\n    } catch (SQLException e) {\r\n        e.printStackTrace();\r\n        throw new DBException(e);\r\n    } finally {\r\n        DBUtil.closeConnection(conn, ps);\r\n    }\r\n    return patients;\r\n}]",
                "hasComment": true,
                "hasInnerComment": false,
                "signature": "public List<VisitReminderReturnForm> getPatients(long)",
                "comments": "Optional[/**\r\n * Returns a list of patients associated with a given HCP.\r\n *\r\n * @param hcpid The MID of the HCP in question.\r\n * @return A java.util.List of Visit Reminder Forms.\r\n */\r\n]",
                "innerComments": null,
                "generated_comment": "/**\n * Retrieves a list of VisitReminderReturnForm objects representing patients who are eligible for visit reminders.\n * \n * @param hcpid the ID of the healthcare provider\n * @return a list of VisitReminderReturnForm objects containing patient information\n * @throws DBException if there is an error accessing the database\n */\npublic List<VisitReminderReturnForm> getPatients(long hcpid) {\n    VisitReminderReturnForm temp;\n    VisitReminderReturnFormLoader loader = new VisitReminderReturnFormLoader();\n    List<VisitReminderReturnForm> patients = new ArrayList<VisitReminderReturnForm>();\n    Connection conn = null;\n    PreparedStatement ps = null;\n    ResultSet rs = null;\n    try {\n        conn = factory.getConnection();\n        ps = conn.prepareStatement(\"SELECT DISTINCT\" + \"       ? as hid, \" + \"       dhcp.patientid, \" + \"       p.lastName, \" + \"       p.firstName, \" + \"       p.phone1, \" + \"       p.phone2, \" + \"       p.phone3 \" + \"  FROM \" + \"       Patients p, \" + \"       declaredhcp dhcp \" + \" WHERE \" + \"\t\tdhcp.hcpid = ? \" + \" AND \" + \"     p.MID = dhcp.patientid \" + \" AND \" + \"\t\tp.dateofdeath is null \" + \" AND \" + \"     p.dateofbirth > DATE_SUB(CURDATE(), INTERVAL 19 YEAR) \");\n        ps.setLong(1, hcpid);\n        ps.setLong(2, hcpid);\n        rs = ps.executeQuery();\n        while (rs.next()) {\n            temp = loader.loadSingle(rs);\n            patients.add(temp);\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n        throw new DBException(e);\n    } finally {\n        DBUtil.closeConnection(conn, ps);\n    }\n    return patients;\n}\n*/"
            },
            {
                "body": "Optional[{\r\n    Connection conn = null;\r\n    PreparedStatement ps = null;\r\n    ResultSet rs = null;\r\n    try {\r\n        conn = factory.getConnection();\r\n        ps = conn.prepareStatement(\"SELECT DISTINCT\" + \"       ? as hid, \" + \"       ov.PatientID, \" + \"       p.lastName, \" + \"       p.firstName, \" + \"       p.phone1, \" + \"       p.phone2, \" + \"       p.phone3, \" + \"       ovd.ICDCode, \" + \"       ov.visitDate \" + \"  FROM \" + \"       Patients p, \" + \"       OfficeVisits ov, \" + \"       OVDiagnosis ovd \" + \" WHERE \" + \"       p.MID = ov.PatientID \" + \"   AND \" + \"       ov.ID = ovd.VisitID \" + \"   AND \" + \"       p.DateOfDeath is null \" + \"   AND \" + \"       ov.visitDate <= DATE_SUB(CURDATE(), INTERVAL 1 YEAR) \" + \"   AND \" + \"       ( \" + //250.00 AND 250.99\r\n        \"            ovd.ICDCode BETWEEN ? AND ? \" + \"         OR \" + //390.00 AND 459.99\r\n        \"            ovd.ICDCode BETWEEN ? AND ? \" + \"         OR \" + //493.00 AND 493.99\r\n        \"            ovd.ICDCode BETWEEN ? AND ? \" + \"        )\" + \"GROUP BY \" + \"       p.MID \" + \"ORDER BY \" + \" p.lastName, p.firstName, ov.PatientID \");\r\n        ps.setLong(1, hcpid);\r\n        ps.setFloat(2, 250.0f);\r\n        ps.setFloat(3, 250.99f);\r\n        ps.setFloat(4, 390.0f);\r\n        ps.setFloat(5, 459.99f);\r\n        ps.setFloat(6, 493.0f);\r\n        ps.setFloat(7, 493.99f);\r\n        rs = ps.executeQuery();\r\n        List<VisitReminderReturnForm> patients = new ArrayList<VisitReminderReturnForm>();\r\n        VisitReminderReturnForm temp;\r\n        VisitReminderReturnFormLoader loader = new VisitReminderReturnFormLoader();\r\n        while (rs.next()) {\r\n            temp = loader.loadSingle(rs);\r\n            temp.addVisitFlag(new VisitFlag(VisitFlag.DIAGNOSED, rs.getString(8)));\r\n            temp.addVisitFlag(new VisitFlag(VisitFlag.LAST_VISIT, rs.getString(9)));\r\n            patients.add(temp);\r\n        }\r\n        return patients;\r\n    } catch (SQLException e) {\r\n        e.printStackTrace();\r\n        throw new DBException(e);\r\n    } finally {\r\n        DBUtil.closeConnection(conn, ps);\r\n    }\r\n}]",
                "hasComment": true,
                "hasInnerComment": true,
                "signature": "public List<VisitReminderReturnForm> getDiagnosedVisitNeeders(long)",
                "comments": "Optional[/**\r\n * Returns a list of patients who need a visit for this HCP. This means:\r\n *\r\n * Alive patient, no office visit for > 1 yr, diagnosed: - Diabetes: 250.xx - Asthma: 493.xx -\r\n * Circulatory-System Disease: [ 390.00 , 459.99 ]\r\n *\r\n * @param hcpid The MID of the HCP in question.\r\n * @return A java.util.List of visit reminders.\r\n */\r\n]",
                "innerComments": "Optional[[//250.00 AND 250.99\r\n, //390.00 AND 459.99\r\n, //493.00 AND 493.99\r\n]]",
                "generated_comment": "/**\n * Retrieves a list of patients who have been diagnosed with specific ICD codes and are in need of a visit reminder.\n * \n * @param hcpid the healthcare provider ID\n * @return a list of VisitReminderReturnForm objects representing patients who meet the criteria\n * @throws DBException if there is an error accessing the database\n */\npublic List<VisitReminderReturnForm> getDiagnosedVisitNeeders(long hcpid) {\n    // Method body implementation here\n}\n*/"
            },
            {
                "body": "Optional[{\r\n    Connection conn = null;\r\n    PreparedStatement ps = null;\r\n    ResultSet rs = null;\r\n    /*\r\n\t\t * Fall 2007 Bug Fix: Use the correct range for a zero-based calendar (eg January is 0)\r\n\t\t * \r\n\t\t */\r\n    boolean thisYear = DateUtil.currentlyInMonthRange(8, 11);\r\n    String flagType = thisYear ? VisitFlag.MISSING_MEDICATION : VisitFlag.MISSED_MEDICATION;\r\n    java.sql.Date september = new java.sql.Date(0l), december = new java.sql.Date(0l);\r\n    DateUtil.setSQLMonthRange(september, 8, thisYear ? 0 : 1, december, 11, thisYear ? 0 : 1);\r\n    try {\r\n        conn = factory.getConnection();\r\n        ps = conn.prepareStatement(\"SELECT DISTINCT \" + \"? as hid, ov.patientid, p.lastname, p.firstname, \" + \"p.phone1, p.phone2, p.phone3 \" + \"FROM OfficeVisits ov, Patients p \" + \"WHERE ov.patientid=p.mid \" + \"AND p.dateofdeath IS NULL \" + \"AND p.dateofbirth < DATE_SUB(CURDATE(), INTERVAL 50 YEAR) \" + \"AND patientid NOT IN \" + \"(SELECT patientid FROM OfficeVisits ov, OVMedication om \" + \"WHERE ov.id=om.visitid \" + \"AND NDCode IN (90656, 90658, 90660) \" + \"AND ((StartDate BETWEEN ? AND ?) \" + \"OR (EndDate BETWEEN ? AND ?))) \" + \"ORDER BY lastname, firstname, ov.patientid\");\r\n        ps.setLong(1, hcpid);\r\n        ps.setDate(2, september);\r\n        ps.setDate(3, december);\r\n        ps.setDate(4, september);\r\n        ps.setDate(5, december);\r\n        rs = ps.executeQuery();\r\n        List<VisitReminderReturnForm> patients = new ArrayList<VisitReminderReturnForm>();\r\n        VisitReminderReturnForm temp;\r\n        VisitReminderReturnFormLoader loader = new VisitReminderReturnFormLoader();\r\n        while (rs.next()) {\r\n            temp = loader.loadSingle(rs);\r\n            temp.addVisitFlag(new VisitFlag(flagType, \"Flu Shot\"));\r\n            patients.add(temp);\r\n        }\r\n        return patients;\r\n    } catch (SQLException e) {\r\n        e.printStackTrace();\r\n        throw new DBException(e);\r\n    } finally {\r\n        DBUtil.closeConnection(conn, ps);\r\n    }\r\n}]",
                "hasComment": true,
                "hasInnerComment": true,
                "signature": "public List<VisitReminderReturnForm> getFluShotDelinquents(long)",
                "comments": "Optional[/**\r\n * Returns a list of old people who need a flu shot\r\n *\r\n * CURRENT SPEC: Alive patient, over 50 years old, no flu shot - 90656, 90658, 90660 a) during the months\r\n * 09 - 12 of current calendar year if in 09 - 12 b) during the months 09 - 12 of last calendar year if\r\n * not in 09 - 12\r\n *\r\n * Determines current date and calls one of two private methods these methods return different sets of\r\n * people - a: people who haven't had a flu shot yet this year and need one - b: people who missed last\r\n * year's flu shot and need a check-up\r\n *\r\n * @return A java.util.List of Visit Reminder Forms.\r\n * @param hcpid The MID of the HCP in question.\r\n * @param patientBirthday The birthday of the patient in question.\r\n * @throws DBException\r\n */\r\n]",
                "innerComments": "Optional[[/*\r\n\t\t * Fall 2007 Bug Fix: Use the correct range for a zero-based calendar (eg January is 0)\r\n\t\t * \r\n\t\t */\r\n]]",
                "generated_comment": "/**\n * Retrieves a list of patients who are delinquent in receiving their flu shot.\n * Patients are considered delinquent if they have not received a flu shot within the specified date range.\n * \n * @param hcpid the ID of the healthcare provider requesting the list of delinquent patients\n * @return a list of VisitReminderReturnForm objects representing the delinquent patients\n * @throws DBException if there is an error accessing the database\n */"
            }
        ],
        "constructors": [
            {
                "body": "{\r\n    this.factory = factory;\r\n}",
                "hasComment": true,
                "hasInnerComment": false,
                "signature": "public VisitRemindersDAO(DAOFactory)",
                "comments": "Optional[/**\r\n * The typical constructor.\r\n * @param factory The {@link DAOFactory} associated with this DAO, which is used for obtaining SQL connections, etc.\r\n */\r\n]",
                "innerComments": null,
                "generated_comment": "/**\n * Constructs a new VisitRemindersDAO with the specified DAOFactory.\n * \n * @param factory the DAOFactory to be used by this VisitRemindersDAO\n * @throws IllegalArgumentException if the factory is null\n */\npublic VisitRemindersDAO(DAOFactory factory) {\n    if (factory == null) {\n        throw new IllegalArgumentException(\"DAOFactory cannot be null\");\n    }\n    \n    this.factory = factory;\n}"
            }
        ],
        "signature": "VisitRemindersDAO",
        "variables": [
            "private DAOFactory factory"
        ],
        "generated_class_comment": "Sure! Here is a comprehensive JavaDoc comment for the class:\n\n/**\n * This class represents a data access object for retrieving a list of patients associated with a given healthcare provider (HCP).\n * It provides methods to query the database and return a list of VisitReminderReturnForm objects containing patient information.\n * \n * The main functionality of this class is to fetch patients who are eligible for visit reminders based on the provided HCP ID.\n * \n * The getPatients method takes a long parameter representing the MID of the HCP and returns a java.util.List of VisitReminderReturnForm objects.\n * \n * This class handles database connections, executes SQL queries to retrieve patient data, and constructs VisitReminderReturnForm objects from the result set.\n * \n * If there is an error accessing the database, a DBException is thrown.\n * \n * @author [Your Name]\n * @version 1.0\n */\n\npublic class PatientDAO {\n    // Class implementation goes here\n}\n*/\n/**\n * This class is responsible for loading visit reminder return forms for patients based on certain criteria.\n * It connects to the database, retrieves patient information, and returns a list of VisitReminderReturnForm objects.\n * \n * The main functionalities of this class include:\n * - Connecting to the database using a Connection object\n * - Executing a SQL query to retrieve patient information based on specific conditions\n * - Creating VisitReminderReturnForm objects using a VisitReminderReturnFormLoader\n * - Adding the created objects to a list and returning the list\n * \n * The overall behavior of this class is to fetch patient data from the database, filter it based on certain criteria,\n * and return a list of VisitReminderReturnForm objects that meet the specified conditions.\n * \n * Note: The SQL query used in this class retrieves patient information for visit reminders based on age, visit date, and ICD codes.\n */\n*/\n/**\n * This class represents a data access object for retrieving a list of patients who need a visit reminder for a healthcare provider.\n * It provides methods to query the database and retrieve patients who meet specific criteria for needing a visit reminder.\n * The main functionality of this class is to fetch patient information based on the healthcare provider ID and certain diagnosis codes.\n * It retrieves patients who are alive, have not had an office visit for over a year, and have been diagnosed with specific ICD codes related to Diabetes, Asthma, and Circulatory-System Disease.\n * The class includes a method getDiagnosedVisitNeeders(long hcpid) that returns a list of VisitReminderReturnForm objects representing patients who meet the criteria.\n * If there is an error accessing the database, a DBException is thrown.\n * \n * @author [Author Name]\n * @version 1.0\n */\n/**\n * This class retrieves a list of patients who are eligible for a visit reminder based on certain criteria.\n * It checks if the current month falls within a specified range and determines the flag type accordingly.\n * It then queries the database for patients who meet the eligibility criteria and constructs a list of VisitReminderReturnForm objects.\n * Each patient in the list is assigned a visit flag and the list is returned.\n * \n * @return List of VisitReminderReturnForm objects representing eligible patients for visit reminders\n * @throws DBException if there is an error accessing the database\n */\npublic List<VisitReminderReturnForm> getEligiblePatientsForVisitReminder() {\n    Connection conn = null;\n    PreparedStatement ps = null;\n    ResultSet rs = null;\n    \n    // Determine the flag type based on the current month range\n    boolean thisYear = DateUtil.currentlyInMonthRange(8, 11);\n    String flagType = thisYear ? VisitFlag.MISSING_MEDICATION : VisitFlag.MISSED_MEDICATION;\n    \n    // Set the SQL date range for September and December\n    java.sql.Date september = new java.sql.Date(0l), december = new java.sql.Date(0l);\n    DateUtil.setSQLMonthRange(september, 8, thisYear ? 0 : 1, december, 11, thisYear ? 0 : 1);\n    \n    try {\n        conn = factory.getConnection();\n        ps = conn.prepareStatement(\"SELECT DISTINCT \" + \"? as hid, ov.patientid, p.lastname, p.firstname, \" +\n                \"p.phone1, p.phone2, p.phone3 \" +\n                \"FROM OfficeVisits ov, Patients p \" +\n                \"WHERE ov.patientid=p.mid \" +\n                \"AND p.dateofdeath IS NULL \" +\n                \"AND p.dateofbirth < DATE_SUB(CURDATE(), INTERVAL 50 YEAR) \" +\n                \"AND patientid NOT IN \" +\n                \"(SELECT patientid FROM OfficeVisits ov, OVMedication om \" +\n                \"WHERE ov.id=om.visitid \" +\n                \"AND NDCode IN (90656, 90658, 90660) \" +\n                \"AND ((StartDate BETWEEN ? AND ?) \" +\n                \"OR (EndDate BETWEEN ? AND ?))) \" +\n                \"ORDER BY lastname, firstname, ov.patientid\");\n        \n        ps.setLong(1, hcpid);\n        ps.setDate(2, september);\n        ps.setDate(3, december);\n        ps.setDate(4, september);\n        ps.setDate(5, december);\n        \n        rs = ps.executeQuery();\n        \n        List<VisitReminderReturnForm> patients = new ArrayList<>();\n        VisitReminderReturnForm temp;\n        VisitReminderReturnFormLoader loader = new VisitReminderReturnFormLoader();\n        \n        // Iterate through the result set and construct VisitReminderReturnForm objects\n        while (rs.next()) {\n            temp = loader.loadSingle(rs);\n            temp.addVisitFlag(new VisitFlag(flagType, \"Flu Shot\"));\n            patients.add(temp);\n        }\n        \n        return patients;\n        \n    } catch (SQLException e) {\n        e.printStackTrace();\n        throw new DBException(e);\n        \n    } finally {\n        DBUtil.closeConnection(conn, ps);\n    }\n}\n*/\n*/\" } ], \"methods\": [ { \"body\": \"{\\r\\n return getFluShotDelinquents(hcpid, patientBirthday);\\r\\n}\", \"hasComment\": false, \"hasInnerComment\": false, \"signature\": \"public List<VisitReminderReturnForm> getFluShotDelinquents(long hcpid, Date patientBirthday) throws DBException\", \"comments\": null, \"innerComments\": null, \"generated_comment\": \"/**\\n * Retrieves a list of patients who are delinquent in receiving their flu shot.\\n * Patients are considered delinquent if they have not received a flu shot within the specified date range.\\n * \\n * @param hcpid the ID of the healthcare provider requesting the list of delinquent patients\\n * @param patientBirthday the birthday of the patient in question\\n * @return a list of VisitReminderReturnForm objects representing the delinquent patients\\n * @throws DBException if there is an error accessing the database\\n */\" } ] }\n/**\n * The VisitRemindersDAO class represents a Data Access Object (DAO) for managing visit reminders.\n * It provides methods for interacting with the database to retrieve, create, update, and delete visit reminders.\n * \n * This class requires a DAOFactory to be used, which is responsible for creating the necessary DAO objects.\n * \n * @author [Author Name]\n * @version 1.0\n */\n \npublic class VisitRemindersDAO {\n    \n    private DAOFactory factory;\n    \n    /**\n     * Constructs a new VisitRemindersDAO with the specified DAOFactory.\n     * \n     * @param factory the DAOFactory to be used by this VisitRemindersDAO\n     * @throws IllegalArgumentException if the factory is null\n     */\n    public VisitRemindersDAO(DAOFactory factory) {\n        if (factory == null) {\n            throw new IllegalArgumentException(\"DAOFactory cannot be null\");\n        }\n        \n        this.factory = factory;\n    }\n    \n    // Add additional methods here for interacting with visit reminders in the database\n    \n}\n**/"
    }
]